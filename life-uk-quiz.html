<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life in the UK Test - Practice Quiz 2026</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root[data-theme="light"] {
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --success: #16a34a;
            --warning: #dc2626;
            --text: #1f2937;
            --text-secondary: #6b7280;
            --bg-page: #f3f4f6;
            --bg-container: #ffffff;
            --border: #e5e7eb;
            --border-hover: #d1d5db;
            --shadow: rgba(0, 0, 0, 0.08);
            --shadow-hover: rgba(0, 0, 0, 0.12);
            --option-bg: #f9fafb;
            --option-hover: #f3f4f6;
        }
        
        :root[data-theme="dark"] {
            --primary: #3b82f6;
            --primary-hover: #60a5fa;
            --success: #22c55e;
            --warning: #ef4444;
            --text: #f9fafb;
            --text-secondary: #9ca3af;
            --bg-page: #111827;
            --bg-container: #1f2937;
            --border: #374151;
            --border-hover: #4b5563;
            --shadow: rgba(0, 0, 0, 0.3);
            --shadow-hover: rgba(0, 0, 0, 0.4);
            --option-bg: #374151;
            --option-hover: #4b5563;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-page);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
            transition: background-color 0.2s ease, color 0.2s ease;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 400;
        }
        
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-container);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 10px 16px;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 1000;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px var(--shadow);
        }
        
        .theme-toggle:hover {
            border-color: var(--border-hover);
            box-shadow: 0 4px 12px var(--shadow-hover);
        }
        
        .login-container {
            max-width: 420px;
            margin: 10vh auto;
        }
        
        .login-card {
            background: var(--bg-container);
            border-radius: 12px;
            padding: 3rem 2.5rem;
            box-shadow: 0 4px 16px var(--shadow);
            border: 1px solid var(--border);
        }
        
        .login-input {
            width: 100%;
            padding: 12px 16px;
            margin: 1rem 0;
            background: var(--option-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.2s ease;
        }
        
        .login-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .error-message {
            color: var(--warning);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            text-align: center;
        }
        
        .card {
            background: var(--bg-container);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--option-bg);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
            border-radius: 4px;
        }
        
        .question-text {
            font-size: 1.125rem;
            color: var(--text);
            margin-bottom: 1.5rem;
            line-height: 1.7;
            font-weight: 500;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .option-btn {
            background: var(--option-bg);
            border: 2px solid var(--border);
            padding: 16px 20px;
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-weight: 500;
        }
        
        .option-btn:hover:not(:disabled) {
            border-color: var(--primary);
            background: var(--option-hover);
        }
        
        .option-btn.correct {
            background: rgba(22, 163, 74, 0.1);
            border-color: var(--success);
            color: var(--success);
        }
        
        .option-btn.incorrect {
            background: rgba(220, 38, 38, 0.1);
            border-color: var(--warning);
            color: var(--warning);
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
        }
        
        .mnemonic-box {
            background: var(--option-bg);
            border-left: 4px solid var(--primary);
            padding: 1.25rem;
            margin-top: 1.5rem;
            border-radius: 8px;
        }
        
        .mnemonic-box h4 {
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .mnemonic-box p {
            color: var(--text);
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .explanation-box {
            background: var(--option-bg);
            border-left: 4px solid var(--success);
            padding: 1.25rem;
            margin-top: 1.5rem;
            border-radius: 8px;
        }
        
        .explanation-box h4 {
            color: var(--success);
            margin-bottom: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .explanation-box p {
            color: var(--text);
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px var(--shadow);
        }
        
        .btn:hover {
            background: var(--primary-hover);
            box-shadow: 0 4px 8px var(--shadow-hover);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-secondary {
            background: var(--option-bg);
            color: var(--text);
            border: 1px solid var(--border);
            box-shadow: none;
        }
        
        .btn-secondary:hover {
            background: var(--option-hover);
            border-color: var(--border-hover);
        }
        
        .btn-group {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        
        .nav-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
        }
        
        .nav-tab {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .nav-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .nav-tab:hover {
            color: var(--primary);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .stat-card {
            background: var(--option-bg);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
            border-color: var(--border-hover);
        }
        
        .stat-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }
        
        .set-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .set-btn {
            background: var(--option-bg);
            border: 2px solid var(--border);
            padding: 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .set-btn:hover:not(.locked) {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }
        
        .set-btn.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .set-btn.completed {
            border-color: var(--success);
        }
        
        .set-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .set-status {
            font-size: 0.8rem;
            margin-top: 0.5rem;
            color: var(--text-secondary);
        }
        
        .lock-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            color: var(--text-secondary);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 0.4rem 0.8rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Password constant
        const CORRECT_PASSWORD = "brubru123@";

        // Question Bank - Sample questions based on the Life in the UK handbook
        // This is a representative sample - full 400 questions would be stored similarly
        const questionBank = [
            // ========== CHAPTER 1: VALUES AND PRINCIPLES (5 questions) ==========
            {
                id: 1,
                chapter: 1,
                question: "What is the minimum age for settlement in the UK?",
                options: ["16 years old", "17 years old", "18 years old", "21 years old"],
                correctAnswer: 2,
                explanation: "For settlement and citizenship applications, applicants must typically be 18 or over.",
                mnemonic: "18 to SETTLE in - same as voting age!"
            },
            {
                id: 2,
                chapter: 1,
                question: "How many questions are in the Life in the UK test?",
                options: ["20 questions", "24 questions", "25 questions", "30 questions"],
                correctAnswer: 1,
                explanation: "The test consists of 24 questions about important aspects of life in the UK.",
                mnemonic: "24 hours in a day, 24 questions to stay!"
            },
            {
                id: 3,
                chapter: 1,
                question: "Which of these is a fundamental principle of British life?",
                options: ["Wealth accumulation", "Democracy", "Military service", "Land ownership"],
                correctAnswer: 1,
                explanation: "Democracy is one of the fundamental principles of British life, along with the rule of law, individual liberty, tolerance, and participation in community life.",
                mnemonic: "Democracy = DEMOcracy for the PEOPLE!"
            },
            {
                id: 4,
                chapter: 1,
                question: "What percentage do you need to pass the Life in the UK test?",
                options: ["65%", "70%", "75%", "80%"],
                correctAnswer: 2,
                explanation: "You need to answer at least 75% of the questions correctly (18 out of 24) to pass the test.",
                mnemonic: "75% = 3/4 = THREE QUARTERS to pass!"
            },
            {
                id: 5,
                chapter: 1,
                question: "What does the citizenship pledge promise?",
                options: [
                    "To pay all taxes on time",
                    "To uphold democratic values",
                    "To learn perfect English",
                    "To own property"
                ],
                correctAnswer: 1,
                explanation: "New citizens pledge: 'I will give my loyalty to the United Kingdom and respect its rights and freedoms. I will uphold its democratic values.'",
                mnemonic: "PLEDGE to be a DEMO-crat in your new HOME!"
            },

            // ========== CHAPTER 2: WHAT IS THE UK? (3 questions) ==========
            {
                id: 6,
                chapter: 2,
                question: "Which countries make up the United Kingdom?",
                options: [
                    "England, Scotland, Wales, Ireland",
                    "England, Scotland, Wales, Northern Ireland",
                    "England, Scotland, Wales",
                    "Great Britain and Ireland"
                ],
                correctAnswer: 1,
                explanation: "The UK consists of England, Scotland, Wales and Northern Ireland.",
                mnemonic: "ESWAN - England, Scotland, Wales And Northern Ireland!"
            },
            {
                id: 7,
                chapter: 2,
                question: "What is the capital of Wales?",
                options: ["Edinburgh", "Belfast", "Cardiff", "Dublin"],
                correctAnswer: 2,
                explanation: "Cardiff is the capital city of Wales.",
                mnemonic: "Card-iff you're Welsh, you're near Cardiff!"
            },
            {
                id: 8,
                chapter: 2,
                question: "What is the UK currency?",
                options: ["Euro", "Pound sterling", "British dollar", "Crown"],
                correctAnswer: 1,
                explanation: "The currency in the UK is the pound sterling (£). There are 100 pence in a pound.",
                mnemonic: "POUND that STERLING silver!"
            },

            // ========== CHAPTER 3: HISTORY (33 questions) ==========
            {
                id: 9,
                chapter: 3,
                question: "When did the Romans successfully invade Britain?",
                options: ["55 BC", "AD 43", "AD 410", "1066"],
                correctAnswer: 1,
                explanation: "The Emperor Claudius led the Roman army to successfully invade Britain in AD 43.",
                mnemonic: "43 = FOR THREE centuries of Roman rule!"
            },
            {
                id: 10,
                chapter: 3,
                question: "Who was Boudicca?",
                options: [
                    "A Roman Empress",
                    "Queen of the Iceni who fought Romans",
                    "First Archbishop of Canterbury",
                    "A Norman Queen"
                ],
                correctAnswer: 1,
                explanation: "Boudicca was queen of the Iceni who fought against the Romans. Her statue is on Westminster Bridge.",
                mnemonic: "Boudicca was BOLD and BATTLED Romans!"
            },
            {
                id: 11,
                chapter: 3,
                question: "When did the Battle of Hastings occur?",
                options: ["1066", "1215", "1314", "1415"],
                correctAnswer: 0,
                explanation: "The Battle of Hastings was in 1066 when William the Conqueror defeated King Harold.",
                mnemonic: "TEN-SIXTY-SIX = William's TRICKS!"
            },
            {
                id: 12,
                chapter: 3,
                question: "What document was signed in 1215?",
                options: ["Bill of Rights", "Magna Carta", "Habeas Corpus Act", "Act of Union"],
                correctAnswer: 1,
                explanation: "The Magna Carta (Great Charter) was signed in 1215, limiting the king's power.",
                mnemonic: "MAGNA is MAGIC - made kings follow law!"
            },
            {
                id: 13,
                chapter: 3,
                question: "When did the Black Death reach Britain?",
                options: ["1215", "1348", "1455", "1665"],
                correctAnswer: 1,
                explanation: "The Black Death came to Britain in 1348, killing one third of the population.",
                mnemonic: "1348 - THIRTEEN was unlucky FOR EIGHT years!"
            },
            {
                id: 14,
                chapter: 3,
                question: "Which battle in 1314 saw Scottish victory?",
                options: ["Hastings", "Bannockburn", "Agincourt", "Waterloo"],
                correctAnswer: 1,
                explanation: "Robert the Bruce defeated the English at the Battle of Bannockburn in 1314.",
                mnemonic: "BANNOCKBURN BEAT the English in Scotland!"
            },
            {
                id: 15,
                chapter: 3,
                question: "What were the Wars of the Roses about?",
                options: [
                    "Fighting over garden rights",
                    "Civil war between Lancaster and York",
                    "War with France",
                    "Religious conflict"
                ],
                correctAnswer: 1,
                explanation: "Wars between House of Lancaster (red rose) and House of York (white rose) to determine who should be king.",
                mnemonic: "RED rose + WHITE rose = ROSES WAR!"
            },
            {
                id: 16,
                chapter: 3,
                question: "When did the Wars of the Roses end?",
                options: ["1455", "1485", "1509", "1547"],
                correctAnswer: 1,
                explanation: "The Wars ended at the Battle of Bosworth Field in 1485 when Henry Tudor became King Henry VII.",
                mnemonic: "1485 - FOUR EIGHT means FATE made Tudor king!"
            },
            {
                id: 17,
                chapter: 3,
                question: "How many wives did Henry VIII have?",
                options: ["Four", "Five", "Six", "Seven"],
                correctAnswer: 2,
                explanation: "Henry VIII famously married six times.",
                mnemonic: "SIX wives for Henry the EIGHTH (sounds like ATE)!"
            },
            {
                id: 18,
                chapter: 3,
                question: "Why did Henry VIII break from Rome?",
                options: [
                    "To get a divorce",
                    "To steal church wealth",
                    "To become Protestant",
                    "To invade France"
                ],
                correctAnswer: 0,
                explanation: "Henry wanted to divorce Catherine of Aragon. When the Pope refused, he established the Church of England.",
                mnemonic: "DIVORCE led to a new CHURCH of course!"
            },
            {
                id: 19,
                chapter: 3,
                question: "Which wife gave Henry VIII his son Edward?",
                options: ["Catherine of Aragon", "Anne Boleyn", "Jane Seymour", "Catherine Parr"],
                correctAnswer: 2,
                explanation: "Jane Seymour gave birth to Edward but died shortly after.",
                mnemonic: "Jane SEE-more of Edward before she died!"
            },
            {
                id: 20,
                chapter: 3,
                question: "When was the Spanish Armada defeated?",
                options: ["1534", "1558", "1588", "1603"],
                correctAnswer: 2,
                explanation: "The Spanish Armada was defeated in 1588 during Elizabeth I's reign.",
                mnemonic: "1588 - FIVE EIGHT-EIGHT beats the fleet GREAT!"
            },
            {
                id: 21,
                chapter: 3,
                question: "Who wrote plays including Hamlet and Macbeth?",
                options: ["Christopher Marlowe", "William Shakespeare", "Ben Jonson", "Edmund Spenser"],
                correctAnswer: 1,
                explanation: "William Shakespeare (1564-1616) wrote these famous plays.",
                mnemonic: "SHAKE-speare SHOOK the theater world!"
            },
            {
                id: 22,
                chapter: 3,
                question: "Who was Mary, Queen of Scots?",
                options: [
                    "Elizabeth I's sister",
                    "A Catholic queen executed by Elizabeth",
                    "Henry VIII's wife",
                    "The first Queen of England"
                ],
                correctAnswer: 1,
                explanation: "Mary Stuart was Elizabeth I's cousin, a Catholic queen who was executed after 20 years imprisonment.",
                mnemonic: "Mary was CAUGHT in Elizabeth's plot!"
            },
            {
                id: 23,
                chapter: 3,
                question: "When did the English Civil War begin?",
                options: ["1603", "1625", "1640", "1660"],
                correctAnswer: 2,
                explanation: "The English Civil War began in 1640 between Parliament and King Charles I.",
                mnemonic: "1640 - SIX-FOUR-OH means war will GROW!"
            },
            {
                id: 24,
                chapter: 3,
                question: "Who led the Parliamentary forces?",
                options: ["King Charles I", "Oliver Cromwell", "James II", "William of Orange"],
                correctAnswer: 1,
                explanation: "Oliver Cromwell led Parliament's forces (Roundheads) against the King (Cavaliers).",
                mnemonic: "CROMWELL led the ROUND-heads who RAN the king OUT!"
            },
            {
                id: 25,
                chapter: 3,
                question: "What happened to Charles I?",
                options: [
                    "He won the war",
                    "He fled to France",
                    "He was executed",
                    "He abdicated"
                ],
                correctAnswer: 2,
                explanation: "King Charles I was executed after his defeat in the Civil War.",
                mnemonic: "Charles lost his CROWN and his HEAD!"
            },
            {
                id: 26,
                chapter: 3,
                question: "What title did Cromwell take?",
                options: ["King", "Emperor", "Lord Protector", "Prime Minister"],
                correctAnswer: 2,
                explanation: "Oliver Cromwell was titled Lord Protector and led Britain without a monarch.",
                mnemonic: "PROTECTOR = he PROTECTED Parliament's power!"
            },
            {
                id: 27,
                chapter: 3,
                question: "When was the monarchy restored?",
                options: ["1649", "1660", "1688", "1707"],
                correctAnswer: 1,
                explanation: "The Restoration happened in 1660 when Charles II became king.",
                mnemonic: "1660 - SIX-SIX-OH, the king's BACK, yo!"
            },
            {
                id: 28,
                chapter: 3,
                question: "What was the Glorious Revolution?",
                options: [
                    "When Charles II returned",
                    "When William III took the throne peacefully",
                    "The Industrial Revolution",
                    "American independence"
                ],
                correctAnswer: 1,
                explanation: "In 1688, William of Orange became king without fighting - the 'Glorious Revolution'.",
                mnemonic: "GLORIOUS = NO BLOOD was shed, just GLORY!"
            },
            {
                id: 29,
                chapter: 3,
                question: "When was the Act of Union with Scotland?",
                options: ["1603", "1649", "1707", "1801"],
                correctAnswer: 2,
                explanation: "The Act of Union in 1707 united England and Scotland, creating Great Britain.",
                mnemonic: "1707 - SEVEN-OH-SEVEN, Scotland's now in HEAVEN (with England)!"
            },
            {
                id: 30,
                chapter: 3,
                question: "Who was the first Prime Minister?",
                options: ["William Pitt", "Robert Walpole", "Duke of Wellington", "Benjamin Disraeli"],
                correctAnswer: 1,
                explanation: "Sir Robert Walpole was the first PM, serving from 1721 to 1742.",
                mnemonic: "WAL-pole was the FIRST pole (PM)!"
            },
            {
                id: 31,
                chapter: 3,
                question: "When was the Battle of Trafalgar?",
                options: ["1789", "1805", "1815", "1837"],
                correctAnswer: 1,
                explanation: "The Battle of Trafalgar was in 1805 when Nelson defeated the French and Spanish fleets.",
                mnemonic: "1805 - EIGHT-OH-FIVE, Nelson died but stayed ALIVE in memory!"
            },
            {
                id: 32,
                chapter: 3,
                question: "Who won at Waterloo in 1815?",
                options: ["Napoleon", "Duke of Wellington", "Admiral Nelson", "George III"],
                correctAnswer: 1,
                explanation: "The Duke of Wellington defeated Napoleon at the Battle of Waterloo in 1815.",
                mnemonic: "WELL-ington did WELL at Waterloo!"
            },
            {
                id: 33,
                chapter: 3,
                question: "When did Queen Victoria reign?",
                options: ["1801-1837", "1837-1901", "1901-1910", "1910-1936"],
                correctAnswer: 1,
                explanation: "Queen Victoria reigned from 1837 to 1901, almost 64 years.",
                mnemonic: "VICTORIA ruled through the 1800s!"
            },
            {
                id: 34,
                chapter: 3,
                question: "When was slavery abolished in the British Empire?",
                options: ["1807", "1833", "1867", "1901"],
                correctAnswer: 1,
                explanation: "The Emancipation Act of 1833 abolished slavery throughout the British Empire.",
                mnemonic: "1833 - Slavery FREE for you and me!"
            },
            {
                id: 35,
                chapter: 3,
                question: "Who was a leading abolitionist?",
                options: ["Charles Darwin", "William Wilberforce", "Florence Nightingale", "Isambard Brunel"],
                correctAnswer: 1,
                explanation: "William Wilberforce was a leading campaigner for the abolition of slavery.",
                mnemonic: "WILBER-force used his FORCE to free slaves!"
            },
            {
                id: 36,
                chapter: 3,
                question: "When did women get the vote at 21?",
                options: ["1918", "1928", "1945", "1969"],
                correctAnswer: 1,
                explanation: "In 1928 women got the vote at 21, the same age as men.",
                mnemonic: "1928 - TWENTY-EIGHT = equal rights at TWENTY-ONE!"
            },
            {
                id: 37,
                chapter: 3,
                question: "When did WWI end?",
                options: ["11am, 11/11/1917", "11am, 11/11/1918", "11am, 11/11/1919", "11am, 11/11/1920"],
                correctAnswer: 1,
                explanation: "WWI ended at 11am on 11th November 1918.",
                mnemonic: "ELEVEN-ELEVEN at ELEVEN in NINETEEN-EIGHTEEN!"
            },
            {
                id: 38,
                chapter: 3,
                question: "What was the Battle of the Somme?",
                options: [
                    "WWI battle with 60,000 British casualties on day 1",
                    "WWII tank battle",
                    "Naval battle",
                    "Battle in Africa"
                ],
                correctAnswer: 0,
                explanation: "The 1916 Battle of the Somme saw 60,000 British casualties on the first day.",
                mnemonic: "SOMME = SO MANY died in one day!"
            },
            {
                id: 39,
                chapter: 3,
                question: "When did WWII begin?",
                options: ["1938", "1939", "1940", "1941"],
                correctAnswer: 1,
                explanation: "WWII began in 1939 when Germany invaded Poland.",
                mnemonic: "1939 - war began before FORTY!"
            },
            {
                id: 40,
                chapter: 3,
                question: "What was Dunkirk?",
                options: [
                    "A major battle victory",
                    "Rescue of 300,000 men by small boats",
                    "First air raid",
                    "Peace treaty location"
                ],
                correctAnswer: 1,
                explanation: "In 1940, 300,000 men were evacuated from Dunkirk by volunteers in small boats.",
                mnemonic: "DUN-kirk = DONE by small boats!"
            },
            {
                id: 41,
                chapter: 3,
                question: "When was the NHS established?",
                options: ["1945", "1946", "1947", "1948"],
                correctAnswer: 3,
                explanation: "The National Health Service was established in 1948.",
                mnemonic: "1948 - FOUR-EIGHT = health care is GREAT!"
            },

            // ========== CHAPTER 4: MODERN SOCIETY (30 questions) ==========
            {
                id: 42,
                chapter: 4,
                question: "Who wrote the Harry Potter series?",
                options: ["Roald Dahl", "J.R.R. Tolkien", "J.K. Rowling", "C.S. Lewis"],
                correctAnswer: 2,
                explanation: "J.K. Rowling wrote the Harry Potter books.",
                mnemonic: "J.K. ROWLING ROLLED out Harry Potter!"
            },
            {
                id: 43,
                chapter: 4,
                question: "What is the longest-running West End show?",
                options: ["Cats", "Phantom of the Opera", "The Mousetrap", "Les Misérables"],
                correctAnswer: 2,
                explanation: "The Mousetrap by Agatha Christie has run since 1952.",
                mnemonic: "MOUSETRAP TRAPPED audiences since 1952!"
            },
            {
                id: 44,
                chapter: 4,
                question: "What percentage identified as Christian in 2009?",
                options: ["50%", "60%", "70%", "80%"],
                correctAnswer: 2,
                explanation: "In the 2009 Citizenship Survey, 70% identified as Christian.",
                mnemonic: "SEVENTY percent = majority!"
            },
            {
                id: 45,
                chapter: 4,
                question: "Who is the head of the Church of England?",
                options: ["The Pope", "The Archbishop", "The Prime Minister", "The Monarch"],
                correctAnswer: 3,
                explanation: "The monarch is the head of the Church of England.",
                mnemonic: "MONARCH rules CHURCH and STATE!"
            },
            {
                id: 46,
                chapter: 4,
                question: "Who is the spiritual leader of Church of England?",
                options: [
                    "Archbishop of York",
                    "Archbishop of Canterbury",
                    "Bishop of London",
                    "The Monarch"
                ],
                correctAnswer: 1,
                explanation: "The Archbishop of Canterbury is the spiritual leader.",
                mnemonic: "CANTERBURY = CAN'T be beaten as spiritual leader!"
            },
            {
                id: 47,
                chapter: 4,
                question: "What is Scotland's national church?",
                options: [
                    "Church of England",
                    "Church of Scotland",
                    "Catholic Church",
                    "Presbyterian Church"
                ],
                correctAnswer: 1,
                explanation: "The Church of Scotland is the national church.",
                mnemonic: "SCOTLAND has Church of SCOTLAND!"
            },
            {
                id: 48,
                chapter: 4,
                question: "What sport is Wimbledon famous for?",
                options: ["Cricket", "Football", "Tennis", "Rugby"],
                correctAnswer: 2,
                explanation: "Wimbledon is the famous tennis championship.",
                mnemonic: "WIMbledon = WINNING at tennis!"
            },
            {
                id: 49,
                chapter: 4,
                question: "How many times has UK hosted the Olympics?",
                options: ["Once", "Twice", "Three times", "Four times"],
                correctAnswer: 2,
                explanation: "The UK hosted the Olympics in 1908, 1948 and 2012.",
                mnemonic: "THREE times for THREE countries in UK!"
            },
            {
                id: 50,
                chapter: 4,
                question: "What are bank holidays?",
                options: [
                    "Days banks close early",
                    "Public holidays",
                    "Banking system anniversaries",
                    "Tax deadlines"
                ],
                correctAnswer: 1,
                explanation: "Bank holidays are official public holidays.",
                mnemonic: "BANK holiday = BANKS closed, everyone's on holiday!"
            },
            {
                id: 51,
                chapter: 4,
                question: "When is St David's Day?",
                options: ["1 January", "1 March", "23 April", "30 November"],
                correctAnswer: 1,
                explanation: "St David's Day (Wales) is celebrated on 1 March.",
                mnemonic: "MARCH first for Welsh patron saint!"
            },
            {
                id: 52,
                chapter: 4,
                question: "When is St George's Day?",
                options: ["1 March", "17 March", "23 April", "30 November"],
                correctAnswer: 2,
                explanation: "St George's Day (England) is on 23 April.",
                mnemonic: "APRIL 23 = GEORGE cuts the dragon!"
            },
            {
                id: 53,
                chapter: 4,
                question: "When is St Patrick's Day?",
                options: ["1 March", "17 March", "23 April", "30 November"],
                correctAnswer: 1,
                explanation: "St Patrick's Day (Northern Ireland) is 17 March.",
                mnemonic: "SEVENTEEN MARCH = PATRICK's day!"
            },
            {
                id: 54,
                chapter: 4,
                question: "When is St Andrew's Day?",
                options: ["1 March", "17 March", "23 April", "30 November"],
                correctAnswer: 3,
                explanation: "St Andrew's Day (Scotland) is 30 November.",
                mnemonic: "NOVEMBER 30 = ANDREW in Scotland!"
            },
            {
                id: 55,
                chapter: 4,
                question: "What is Guy Fawkes Night?",
                options: [
                    "New Year celebration",
                    "Bonfire Night on 5 November",
                    "Christmas Eve",
                    "Summer solstice"
                ],
                correctAnswer: 1,
                explanation: "Guy Fawkes Night on 5 November celebrates the failed Gunpowder Plot with bonfires and fireworks.",
                mnemonic: "Remember remember the FIFTH of November!"
            },
            {
                id: 56,
                chapter: 4,
                question: "What is Remembrance Day?",
                options: [
                    "Queen's birthday",
                    "WWI and WWII memorial on 11 November",
                    "Shakespeare's birthday",
                    "Independence day"
                ],
                correctAnswer: 1,
                explanation: "Remembrance Day on 11 November honors those who died in WWI and WWII.",
                mnemonic: "11/11 = ELEVEN-ELEVEN when war ended!"
            },
            {
                id: 57,
                chapter: 4,
                question: "What flower is worn on Remembrance Day?",
                options: ["Rose", "Thistle", "Poppy", "Daffodil"],
                correctAnswer: 2,
                explanation: "People wear poppies to remember those who died in wars.",
                mnemonic: "POPPY = red like blood of soldiers!"
            },
            {
                id: 58,
                chapter: 4,
                question: "What is a pantomime?",
                options: [
                    "Silent film",
                    "Christmas theatrical show based on fairy stories",
                    "Street performance",
                    "Puppet show"
                ],
                correctAnswer: 1,
                explanation: "Pantomimes are Christmas theater shows based on fairy stories with comedy and music.",
                mnemonic: "PANTO at Christmas = family fun!"
            },
            {
                id: 59,
                chapter: 4,
                question: "Where is the Edinburgh Festival held?",
                options: ["London", "Cardiff", "Edinburgh", "Belfast"],
                correctAnswer: 2,
                explanation: "The Edinburgh Festival, including the Fringe, takes place in Edinburgh every summer.",
                mnemonic: "EDINBURGH Festival in EDINBURGH!"
            },
            {
                id: 60,
                chapter: 4,
                question: "Who wrote 'Auld Lang Syne'?",
                options: ["William Shakespeare", "Robert Burns", "Dylan Thomas", "W.B. Yeats"],
                correctAnswer: 1,
                explanation: "Robert Burns, the Scottish poet, wrote 'Auld Lang Syne'.",
                mnemonic: "BURNS wrote the song we sing when year BURNS out!"
            },
            {
                id: 61,
                chapter: 4,
                question: "What is the Turner Prize for?",
                options: ["Literature", "Music", "Contemporary art", "Film"],
                correctAnswer: 2,
                explanation: "The Turner Prize, established 1984, celebrates contemporary art.",
                mnemonic: "TURNER TURNED art into prizes!"
            },
            {
                id: 62,
                chapter: 4,
                question: "Who composed 'The Planets'?",
                options: ["Gustav Holst", "Edward Elgar", "Henry Purcell", "Benjamin Britten"],
                correctAnswer: 0,
                explanation: "Gustav Holst wrote the famous suite 'The Planets'.",
                mnemonic: "HOLST held the PLANETS in music!"
            },
            {
                id: 63,
                chapter: 4,
                question: "Who wrote the James Bond books?",
                options: ["Agatha Christie", "Ian Fleming", "Arthur Conan Doyle", "Graham Greene"],
                correctAnswer: 1,
                explanation: "Ian Fleming created the James Bond spy novels.",
                mnemonic: "FLEMING's Bond is always FLAMING cool!"
            },
            {
                id: 64,
                chapter: 4,
                question: "Who wrote Sherlock Holmes stories?",
                options: [
                    "Charles Dickens",
                    "Arthur Conan Doyle",
                    "Agatha Christie",
                    "H.G. Wells"
                ],
                correctAnswer: 1,
                explanation: "Sir Arthur Conan Doyle created Sherlock Holmes.",
                mnemonic: "DOYLE DETECTED the perfect detective!"
            },
            {
                id: 65,
                chapter: 4,
                question: "Who wrote '1984' and 'Animal Farm'?",
                options: ["Aldous Huxley", "George Orwell", "H.G. Wells", "J.R.R. Tolkien"],
                correctAnswer: 1,
                explanation: "George Orwell wrote these famous dystopian novels.",
                mnemonic: "ORWELL saw an AWFUL future!"
            },
            {
                id: 66,
                chapter: 4,
                question: "Who discovered penicillin?",
                options: [
                    "Alexander Fleming",
                    "Charles Darwin",
                    "Isaac Newton",
                    "Stephen Hawking"
                ],
                correctAnswer: 0,
                explanation: "Sir Alexander Fleming discovered penicillin in 1928.",
                mnemonic: "FLEMING's PENICILLIN saved MILLIONS!"
            },
            {
                id: 67,
                chapter: 4,
                question: "Who developed the World Wide Web?",
                options: [
                    "Bill Gates",
                    "Steve Jobs",
                    "Tim Berners-Lee",
                    "Alan Turing"
                ],
                correctAnswer: 2,
                explanation: "Sir Tim Berners-Lee invented the World Wide Web.",
                mnemonic: "BERNERS-LEE made the WEB free!"
            },
            {
                id: 68,
                chapter: 4,
                question: "Who was known as the Iron Duke?",
                options: [
                    "Duke of Wellington",
                    "Duke of York",
                    "Duke of Edinburgh",
                    "Lord Nelson"
                ],
                correctAnswer: 0,
                explanation: "The Duke of Wellington was called the Iron Duke.",
                mnemonic: "WELLINGTON = IRON DUKE won Waterloo!"
            },
            {
                id: 69,
                chapter: 4,
                question: "Who founded modern nursing?",
                options: [
                    "Marie Curie",
                    "Florence Nightingale",
                    "Emmeline Pankhurst",
                    "Mary Seacole"
                ],
                correctAnswer: 1,
                explanation: "Florence Nightingale founded modern nursing.",
                mnemonic: "NIGHTINGALE brought light to NIGHT in hospitals!"
            },
            {
                id: 70,
                chapter: 4,
                question: "Who led the Suffragettes?",
                options: [
                    "Florence Nightingale",
                    "Emmeline Pankhurst",
                    "Queen Victoria",
                    "Margaret Thatcher"
                ],
                correctAnswer: 1,
                explanation: "Emmeline Pankhurst led the women's suffrage movement.",
                mnemonic: "PANKHURST helped women get votes FIRST!"
            },
            {
                id: 71,
                chapter: 4,
                question: "Since when has British pop been influential?",
                options: ["1940s", "1950s", "1960s", "1970s"],
                correctAnswer: 2,
                explanation: "Since the 1960s, British pop music has been hugely influential worldwide.",
                mnemonic: "SIXTIES = BEATLES began the British invasion!"
            },

            // ========== CHAPTER 5: GOVERNMENT (29 questions) ==========
            {
                id: 72,
                chapter: 5,
                question: "What is the voting age in the UK?",
                options: ["16", "18", "21", "25"],
                correctAnswer: 1,
                explanation: "The voting age was reduced to 18 in 1969.",
                mnemonic: "EIGHTEEN to VOTE, mate!"
            },
            {
                id: 73,
                chapter: 5,
                question: "Where is the Prime Minister's official home?",
                options: [
                    "Buckingham Palace",
                    "10 Downing Street",
                    "Westminster Abbey",
                    "Chequers"
                ],
                correctAnswer: 1,
                explanation: "The PM's official residence is 10 Downing Street.",
                mnemonic: "Number TEN for the PM!"
            },
            {
                id: 74,
                chapter: 5,
                question: "How often must General Elections be held?",
                options: ["Every 3 years", "Every 4 years", "At least every 5 years", "Every 6 years"],
                correctAnswer: 2,
                explanation: "A General Election must be held at least every 5 years.",
                mnemonic: "FIVE years to stay ALIVE in government!"
            },
            {
                id: 75,
                chapter: 5,
                question: "What is the monarch's role?",
                options: [
                    "Head of state",
                    "Head of government",
                    "Head of courts",
                    "Head of military only"
                ],
                correctAnswer: 0,
                explanation: "The monarch is the head of state in a constitutional monarchy.",
                mnemonic: "MONARCH = head of STATE, not government!"
            },
            {
                id: 76,
                chapter: 5,
                question: "Who appoints the Prime Minister?",
                options: [
                    "The people by election",
                    "The House of Lords",
                    "The monarch",
                    "The previous PM"
                ],
                correctAnswer: 2,
                explanation: "The monarch appoints the Prime Minister (usually leader of largest party).",
                mnemonic: "MONARCH picks PM = constitutional tradition!"
            },
            {
                id: 77,
                chapter: 5,
                question: "What are MPs?",
                options: [
                    "Military Police",
                    "Members of Parliament",
                    "Ministerial Posts",
                    "Municipal Planners"
                ],
                correctAnswer: 1,
                explanation: "MPs are Members of Parliament elected to the House of Commons.",
                mnemonic: "MP = Member of Parliament!"
            },
            {
                id: 78,
                chapter: 5,
                question: "How many MPs are there?",
                options: ["550", "600", "650", "700"],
                correctAnswer: 2,
                explanation: "There are 650 Members of Parliament in the House of Commons.",
                mnemonic: "650 = SIX hundred and FIFTY MPs!"
            },
            {
                id: 79,
                chapter: 5,
                question: "What is a constituency?",
                options: [
                    "A type of law",
                    "A government building",
                    "An area represented by an MP",
                    "A political party"
                ],
                correctAnswer: 2,
                explanation: "A constituency is the area represented by an elected MP.",
                mnemonic: "CONSTITUENCY = area where people are CONSTITUENT!"
            },
            {
                id: 80,
                chapter: 5,
                question: "What is the House of Lords?",
                options: [
                    "Elected chamber",
                    "Appointed chamber",
                    "Hereditary only",
                    "Foreign diplomats"
                ],
                correctAnswer: 1,
                explanation: "The House of Lords is the second chamber of Parliament with appointed members.",
                mnemonic: "LORDS are appointed, not elected!"
            },
            {
                id: 81,
                chapter: 5,
                question: "What does the Speaker do?",
                options: [
                    "Gives speeches about policy",
                    "Chairs debates in House of Commons",
                    "Represents the Queen",
                    "Leads the opposition"
                ],
                correctAnswer: 1,
                explanation: "The Speaker chairs debates in the House of Commons and keeps order.",
                mnemonic: "SPEAKER speaks to control the debate!"
            },
            {
                id: 82,
                chapter: 5,
                question: "What is Prime Minister's Questions?",
                options: [
                    "Written exam for PM",
                    "Weekly questioning session in Parliament",
                    "Annual interview",
                    "Secret security briefing"
                ],
                correctAnswer: 1,
                explanation: "PMQs is a weekly session where MPs question the Prime Minister.",
                mnemonic: "PMQs = PM gets QUESTIONED!"
            },
            {
                id: 83,
                chapter: 5,
                question: "What is the Cabinet?",
                options: [
                    "Storage for laws",
                    "Senior ministers chosen by PM",
                    "All MPs",
                    "House of Lords committee"
                ],
                correctAnswer: 1,
                explanation: "The Cabinet consists of about 20 senior ministers chosen by the PM.",
                mnemonic: "CABINET = PM's key ministers in a group!"
            },
            {
                id: 84,
                chapter: 5,
                question: "What is the Opposition?",
                options: [
                    "Protesters",
                    "Second largest party",
                    "House of Lords",
                    "The media"
                ],
                correctAnswer: 1,
                explanation: "The Opposition is the second largest party in the House of Commons.",
                mnemonic: "OPPOSITION OPPOSES the government!"
            },
            {
                id: 85,
                chapter: 5,
                question: "What is a shadow cabinet?",
                options: [
                    "Secret government",
                    "Opposition's senior team",
                    "Security service",
                    "Night shift ministers"
                ],
                correctAnswer: 1,
                explanation: "The shadow cabinet is the Opposition's team of senior MPs.",
                mnemonic: "SHADOW cabinet = follows like a SHADOW!"
            },
            {
                id: 86,
                chapter: 5,
                question: "Who can vote in General Elections?",
                options: [
                    "Only British citizens",
                    "UK, Irish, Commonwealth citizens over 18",
                    "Everyone over 18",
                    "Only property owners"
                ],
                correctAnswer: 1,
                explanation: "UK, Irish and qualifying Commonwealth citizens over 18 can vote.",
                mnemonic: "UK, IRISH, COMMONWEALTH = three groups can VOTE!"
            },
            {
                id: 87,
                chapter: 5,
                question: "Who can stand for public office?",
                options: [
                    "Only British citizens",
                    "UK and Commonwealth citizens over 18",
                    "Everyone over 21",
                    "Only party members"
                ],
                correctAnswer: 1,
                explanation: "UK and Commonwealth citizens over 18 can stand for public office.",
                mnemonic: "Same groups STAND who can vote and understand!"
            },
            {
                id: 88,
                chapter: 5,
                question: "What is a by-election?",
                options: [
                    "Second round voting",
                    "Election to fill vacant seat between General Elections",
                    "Local council election",
                    "Referendum"
                ],
                correctAnswer: 1,
                explanation: "A by-election fills a vacant MP seat between General Elections.",
                mnemonic: "BY-election happens BY the way, not main way!"
            },
            {
                id: 89,
                chapter: 5,
                question: "When was Scotland's Parliament established?",
                options: ["1997", "1998", "1999", "2000"],
                correctAnswer: 2,
                explanation: "The Scottish Parliament was established in 1999 through devolution.",
                mnemonic: "1999 = just before 2000, Scotland got power!"
            },
            {
                id: 90,
                chapter: 5,
                question: "When was the Welsh Assembly established?",
                options: ["1997", "1998", "1999", "2000"],
                correctAnswer: 2,
                explanation: "The Welsh Assembly was established in 1999.",
                mnemonic: "Wales and Scotland BOTH in 1999!"
            },
            {
                id: 91,
                chapter: 5,
                question: "What is the Commonwealth?",
                options: [
                    "British Empire",
                    "Association of countries, mostly former Empire",
                    "European Union",
                    "UN Security Council"
                ],
                correctAnswer: 1,
                explanation: "The Commonwealth is an association of countries, most formerly in the British Empire.",
                mnemonic: "COMMON-wealth = COMMON history and wealth!"
            },
            {
                id: 92,
                chapter: 5,
                question: "How many Commonwealth countries are there?",
                options: ["40", "54", "60", "70"],
                correctAnswer: 1,
                explanation: "There are 56 member states in the Commonwealth.",
                mnemonic: "54 = FIFTY-FOUR nations in Commonwealth!"
            },
            {
                id: 93,
                chapter: 5,
                question: "Who is head of the Commonwealth?",
                options: [
                    "The Prime Minister",
                    "The UN Secretary General",
                    "The Monarch",
                    "Elected president"
                ],
                correctAnswer: 2,
                explanation: "The monarch (currently King Charles III) is ceremonial head of the Commonwealth.",
                mnemonic: "MONARCH heads COMMONWEALTH!"
            },
            {
                id: 94,
                chapter: 5,
                question: "At what age can you serve on a jury?",
                options: ["16", "18", "21", "25"],
                correctAnswer: 1,
                explanation: "You can be called for jury service between 18 and 70 years old.",
                mnemonic: "EIGHTEEN to judge others' FATE!"
            },
            {
                id: 95,
                chapter: 5,
                question: "What are small claims?",
                options: [
                    "Minor insurance claims",
                    "Disputes under £10,000 (£5,000 Scotland)",
                    "Petty crimes",
                    "Child support"
                ],
                correctAnswer: 1,
                explanation: "Small claims are civil disputes under £10,000 in England/Wales (£5,000 Scotland).",
                mnemonic: "SMALL claims = SMALL money disputes!"
            },
            {
                id: 96,
                chapter: 5,
                question: "What do Magistrates' Courts deal with?",
                options: [
                    "Only civil cases",
                    "Minor criminal cases",
                    "Only murder trials",
                    "Family law only"
                ],
                correctAnswer: 1,
                explanation: "Magistrates' Courts handle minor criminal offences.",
                mnemonic: "MAGISTRATES = MINOR crimes!"
            },
            {
                id: 97,
                chapter: 5,
                question: "What is the Crown Court?",
                options: [
                    "Royal residence",
                    "Court for serious criminal cases",
                    "Small claims court",
                    "Family court"
                ],
                correctAnswer: 1,
                explanation: "The Crown Court deals with serious criminal cases.",
                mnemonic: "CROWN Court = SERIOUS crimes!"
            },
            {
                id: 98,
                chapter: 5,
                question: "What is the minimum wage called?",
                options: [
                    "Living wage",
                    "Basic wage",
                    "National Minimum Wage",
                    "Fair wage"
                ],
                correctAnswer: 2,
                explanation: "The minimum wage in the UK is called the National Minimum Wage.",
                mnemonic: "NATIONAL Minimum = NATIONWIDE minimum!"
            },
            {
                id: 99,
                chapter: 5,
                question: "What is Income Tax?",
                options: [
                    "Tax on property",
                    "Tax on wages and salaries",
                    "Sales tax",
                    "Import duties"
                ],
                correctAnswer: 1,
                explanation: "Income Tax is paid on wages, salaries and other income.",
                mnemonic: "INCOME tax on your INCOME!"
            },
            {
                id: 100,
                chapter: 5,
                question: "What is National Insurance?",
                options: [
                    "Health insurance",
                    "Tax for state benefits and NHS",
                    "Car insurance",
                    "Life insurance"
                ],
                correctAnswer: 1,
                explanation: "National Insurance contributions pay for state benefits and the NHS.",
                mnemonic: "NI = NATIONAL support for INSURANCE against hardship!"
            },
            
            // ========== CONTINUING QUESTIONS 101-200 ==========
            
            // More Chapter 1 questions
            {
                id: 101,
                chapter: 1,
                question: "What is the rule of law?",
                options: [
                    "Laws made by the ruler",
                    "Everyone including government must obey the law",
                    "Laws for rulers only",
                    "Royal decrees"
                ],
                correctAnswer: 1,
                explanation: "The rule of law means everyone, including the government and monarchy, must obey the law.",
                mnemonic: "RULE of LAW = ALL must follow, no matter how TALL!"
            },
            {
                id: 102,
                chapter: 1,
                question: "What is individual liberty?",
                options: [
                    "Freedom to break laws",
                    "Freedom of belief and speech",
                    "Freedom from taxes",
                    "Freedom to leave UK"
                ],
                correctAnswer: 1,
                explanation: "Individual liberty includes freedom of belief, religion, speech, and freedom from unfair discrimination.",
                mnemonic: "LIBERTY = free to BE what you want to BE!"
            },
            {
                id: 103,
                chapter: 1,
                question: "Tolerance of different faiths is a fundamental British principle?",
                options: ["TRUE", "FALSE"],
                correctAnswer: 0,
                explanation: "Tolerance of those with different faiths and beliefs is a fundamental principle of British life.",
                mnemonic: "TOLERANCE = British VALUE for all faiths!"
            },
            
            // More Chapter 2 questions
            {
                id: 104,
                chapter: 2,
                question: "What is the capital of Scotland?",
                options: ["Glasgow", "Edinburgh", "Aberdeen", "Dundee"],
                correctAnswer: 1,
                explanation: "Edinburgh is the capital city of Scotland.",
                mnemonic: "EDINburgh = ED is IN charge of Scotland!"
            },
            {
                id: 105,
                chapter: 2,
                question: "What is the capital of Northern Ireland?",
                options: ["Dublin", "Belfast", "Londonderry", "Armagh"],
                correctAnswer: 1,
                explanation: "Belfast is the capital of Northern Ireland.",
                mnemonic: "BELfast = Northern Ireland's BELL rings in BELfast!"
            },
            {
                id: 106,
                chapter: 2,
                question: "What does Great Britain refer to?",
                options: [
                    "The whole UK",
                    "England, Scotland and Wales only",
                    "England only",
                    "England and Scotland"
                ],
                correctAnswer: 1,
                explanation: "Great Britain refers to England, Scotland and Wales. It does not include Northern Ireland.",
                mnemonic: "GREAT Britain = THREE countries (E, S, W)!"
            },
            {
                id: 107,
                chapter: 2,
                question: "What are Crown dependencies?",
                options: [
                    "Royal palaces",
                    "Channel Islands and Isle of Man",
                    "Former colonies",
                    "Military bases"
                ],
                correctAnswer: 1,
                explanation: "Crown dependencies are the Channel Islands and Isle of Man, closely linked with UK but not part of it.",
                mnemonic: "CROWN dependencies = Islands CLOSE to the crown!"
            },
            
            // More Chapter 3 History questions
            {
                id: 108,
                chapter: 3,
                question: "When did the Romans leave Britain?",
                options: ["AD 43", "AD 410", "AD 600", "1066"],
                correctAnswer: 1,
                explanation: "The Roman army left Britain in AD 410 to defend other parts of the Roman Empire.",
                mnemonic: "410 = Romans said FOUR-TEN goodbye!"
            },
            {
                id: 109,
                chapter: 3,
                question: "What is Hadrian's Wall?",
                options: [
                    "A palace wall",
                    "A wall built by Romans to keep out Picts",
                    "A city wall",
                    "A garden wall"
                ],
                correctAnswer: 1,
                explanation: "Emperor Hadrian built a wall in northern England to keep out the Picts (ancestors of the Scottish people).",
                mnemonic: "HADRIAN'S wall = HARD barrier against northern tribes!"
            },
            {
                id: 110,
                chapter: 3,
                question: "Which tribes invaded after the Romans left?",
                options: [
                    "Vikings and Normans",
                    "Jutes, Angles and Saxons",
                    "Celts and Picts",
                    "French and Spanish"
                ],
                correctAnswer: 1,
                explanation: "The Jutes, Angles and Saxons invaded Britain after the Romans left. Their languages formed the basis of modern English.",
                mnemonic: "JAS = Jutes, Angles, Saxons invaded!"
            },
            {
                id: 111,
                chapter: 3,
                question: "Who was St Augustine?",
                options: [
                    "A Roman Emperor",
                    "First Archbishop of Canterbury",
                    "A Viking king",
                    "A Scottish saint"
                ],
                correctAnswer: 1,
                explanation: "St Augustine led missionaries from Rome and became the first Archbishop of Canterbury.",
                mnemonic: "AUGUSTINE = first ARCHBISHOP!"
            },
            {
                id: 112,
                chapter: 3,
                question: "Who was St Columba?",
                options: [
                    "Founded monastery on Iona",
                    "King of Scotland",
                    "Roman general",
                    "English archbishop"
                ],
                correctAnswer: 0,
                explanation: "St Columba founded a monastery on the island of Iona, off the coast of Scotland.",
                mnemonic: "COLUMBA on IONA = DOVE on an island!"
            },
            {
                id: 113,
                chapter: 3,
                question: "When did Vikings first visit Britain?",
                options: ["AD 410", "AD 600", "AD 789", "1066"],
                correctAnswer: 2,
                explanation: "Vikings from Denmark and Norway first visited Britain in AD 789 to raid coastal towns.",
                mnemonic: "789 = SEVEN-EIGHT-NINE, Vikings came to DINE!"
            },
            {
                id: 114,
                chapter: 3,
                question: "What was the Danelaw?",
                options: [
                    "Danish monarchy",
                    "Area of England ruled by Vikings",
                    "Viking legal code",
                    "Danish navy"
                ],
                correctAnswer: 1,
                explanation: "The Danelaw was an area in eastern and northern England where Viking settlers lived.",
                mnemonic: "DANELAW = DANISH LAW in England!"
            },
            {
                id: 115,
                chapter: 3,
                question: "Who was King Alfred the Great?",
                options: [
                    "Roman Emperor",
                    "King who united Anglo-Saxons and defeated Vikings",
                    "Viking king",
                    "Norman king"
                ],
                correctAnswer: 1,
                explanation: "Alfred the Great united the Anglo-Saxon kingdoms and defeated the Vikings.",
                mnemonic: "ALFRED the GREAT united and BEAT Vikings!"
            },
            {
                id: 116,
                chapter: 3,
                question: "What is the Bayeux Tapestry?",
                options: [
                    "A carpet",
                    "Embroidery showing Battle of Hastings",
                    "A flag",
                    "A painting"
                ],
                correctAnswer: 1,
                explanation: "The Bayeux Tapestry is a great piece of embroidery commemorating the Battle of Hastings.",
                mnemonic: "BAYEUX = BATTLE shown on cloth!"
            },
            {
                id: 117,
                chapter: 3,
                question: "What is the Domesday Book?",
                options: [
                    "Bible translation",
                    "List of all towns, villages and landowners in England",
                    "Law book",
                    "History book"
                ],
                correctAnswer: 1,
                explanation: "William the Conqueror created the Domesday Book, listing all towns, villages, people, land and animals in England.",
                mnemonic: "DOMESDAY = DOOM for tax evaders, ALL recorded!"
            },
            {
                id: 118,
                chapter: 3,
                question: "When did English become the preferred language of the royal court?",
                options: ["1066", "1215", "1400", "1600"],
                correctAnswer: 2,
                explanation: "By 1400, English had become the preferred language of the royal court and Parliament.",
                mnemonic: "1400 = FOURTEEN HUNDRED years to make English #1!"
            },
            {
                id: 119,
                chapter: 3,
                question: "What was the Hundred Years War?",
                options: [
                    "War with Scotland",
                    "Long war with France",
                    "Civil war",
                    "War with Spain"
                ],
                correctAnswer: 1,
                explanation: "The Hundred Years War (which lasted 116 years) was a long conflict between England and France.",
                mnemonic: "HUNDRED Years War with France lasted MORE!"
            },
            {
                id: 120,
                chapter: 3,
                question: "When was the Battle of Agincourt?",
                options: ["1314", "1415", "1485", "1588"],
                correctAnswer: 1,
                explanation: "The Battle of Agincourt was in 1415 when Henry V defeated the French.",
                mnemonic: "1415 = FOURTEEN-FIFTEEN, English were KEEN!"
            },
            {
                id: 121,
                chapter: 3,
                question: "What was feudalism?",
                options: [
                    "A religion",
                    "System of land ownership where king gave land to lords",
                    "A law code",
                    "A type of farming"
                ],
                correctAnswer: 1,
                explanation: "Feudalism was a system where the king gave land to lords in return for military help.",
                mnemonic: "FEUDAL = land for FIGHTERS!"
            },
            {
                id: 122,
                chapter: 3,
                question: "What fraction of Britain did the Black Death kill?",
                options: ["One quarter", "One third", "One half", "Two thirds"],
                correctAnswer: 1,
                explanation: "The Black Death killed one third of the population of England in 1348.",
                mnemonic: "ONE THIRD died = terribly HURT Britain!"
            },
            {
                id: 123,
                chapter: 3,
                question: "When was the Statute of Rhuddlan?",
                options: ["1215", "1284", "1314", "1415"],
                correctAnswer: 1,
                explanation: "The Statute of Rhuddlan in 1284 annexed Wales to the Crown of England.",
                mnemonic: "1284 = Wales became English MATE!"
            },
            {
                id: 124,
                chapter: 3,
                question: "What was 'Bloody Mary' known for?",
                options: [
                    "Military victories",
                    "Persecuting Protestants",
                    "Building churches",
                    "Trade expansion"
                ],
                correctAnswer: 1,
                explanation: "Mary I was called 'Bloody Mary' because she persecuted Protestants as she was a devout Catholic.",
                mnemonic: "BLOODY Mary made Protestants VERY wary!"
            },
            {
                id: 125,
                chapter: 3,
                question: "Who was the longest-serving Tudor monarch?",
                options: ["Henry VIII", "Edward VI", "Mary I", "Elizabeth I"],
                correctAnswer: 3,
                explanation: "Elizabeth I reigned for 45 years (1558-1603), the longest Tudor reign.",
                mnemonic: "ELIZABETH = LONGEST Tudor!"
            },
            {
                id: 126,
                chapter: 3,
                question: "What was Sir Francis Drake famous for?",
                options: [
                    "Defeating Spanish Armada and circumnavigating world",
                    "Inventing steam engine",
                    "Writing plays",
                    "Building churches"
                ],
                correctAnswer: 0,
                explanation: "Sir Francis Drake helped defeat the Spanish Armada and sailed around the world.",
                mnemonic: "DRAKE sailed the world and made Spain QUAKE!"
            },
            {
                id: 127,
                chapter: 3,
                question: "Where is Shakespeare's Globe Theatre?",
                options: ["Stratford", "London", "Edinburgh", "Manchester"],
                correctAnswer: 1,
                explanation: "The Globe Theatre in London is a modern copy of the theatre where Shakespeare's plays were first performed.",
                mnemonic: "GLOBE in LONDON = Shakespeare's home!"
            },
            {
                id: 128,
                chapter: 3,
                question: "When did James VI of Scotland also become King of England?",
                options: ["1558", "1603", "1649", "1660"],
                correctAnswer: 1,
                explanation: "James VI of Scotland became James I of England in 1603 when Elizabeth I died.",
                mnemonic: "1603 = SIX-OH-THREE, James ruled ALL three!"
            },
            {
                id: 129,
                chapter: 3,
                question: "What is the King James Bible?",
                options: [
                    "First English Bible",
                    "English translation still used today",
                    "Catholic Bible",
                    "Children's Bible"
                ],
                correctAnswer: 1,
                explanation: "The King James Version is an English Bible translation that continues to be used in many Protestant churches.",
                mnemonic: "King JAMES made the Bible FAMOUS!"
            },
            {
                id: 130,
                chapter: 3,
                question: "What were the Plantations in Ireland?",
                options: [
                    "Farms",
                    "Settlements of Scottish and English Protestants",
                    "Gardens",
                    "Forests"
                ],
                correctAnswer: 1,
                explanation: "Plantations were settlements of Scottish and English Protestants in Ireland, particularly Ulster.",
                mnemonic: "PLANTATIONS = Protestants PLANTED in Ireland!"
            },
            {
                id: 131,
                chapter: 3,
                question: "What was the 'Divine Right of Kings'?",
                options: [
                    "Kings chosen by people",
                    "Belief that kings appointed by God",
                    "Kings had no power",
                    "Kings ruled through Parliament"
                ],
                correctAnswer: 1,
                explanation: "Divine Right of Kings was the belief that the king was directly appointed by God to rule.",
                mnemonic: "DIVINE Right = God gives KINGS might!"
            },
            {
                id: 132,
                chapter: 3,
                question: "Who were the Roundheads?",
                options: [
                    "King's supporters",
                    "Parliament's supporters in Civil War",
                    "Vikings",
                    "Monks"
                ],
                correctAnswer: 1,
                explanation: "Roundheads were supporters of Parliament in the English Civil War.",
                mnemonic: "ROUNDHEADS fought for Parliament instead!"
            },
            {
                id: 133,
                chapter: 3,
                question: "Who were the Cavaliers?",
                options: [
                    "Parliament supporters",
                    "King's supporters in Civil War",
                    "Spanish soldiers",
                    "French knights"
                ],
                correctAnswer: 1,
                explanation: "Cavaliers were supporters of King Charles I in the Civil War.",
                mnemonic: "CAVALIERS = CAVALRY for the KING!"
            },
            {
                id: 134,
                chapter: 3,
                question: "When was Charles I executed?",
                options: ["1640", "1649", "1660", "1688"],
                correctAnswer: 1,
                explanation: "King Charles I was executed in 1649 after losing the Civil War.",
                mnemonic: "1649 = Charles' reign ended at FORTY-NINE!"
            },
            {
                id: 135,
                chapter: 3,
                question: "When was the Great Plague?",
                options: ["1348", "1665", "1688", "1805"],
                correctAnswer: 1,
                explanation: "The Great Plague occurred in 1665, killing many in London.",
                mnemonic: "1665 = SIXTEEN-SIXTY-FIVE, few stayed ALIVE!"
            },
            {
                id: 136,
                chapter: 3,
                question: "Where did James II flee to?",
                options: ["Spain", "France", "Scotland", "Ireland"],
                correctAnswer: 1,
                explanation: "James II fled to France when William of Orange became king in the Glorious Revolution.",
                mnemonic: "James fled to FRANCE = no second CHANCE!"
            },
            {
                id: 137,
                chapter: 3,
                question: "When was the Battle of the Boyne?",
                options: ["1660", "1688", "1690", "1707"],
                correctAnswer: 2,
                explanation: "The Battle of the Boyne was in 1690 when William III defeated James II in Ireland.",
                mnemonic: "1690 = SIXTEEN-NINETY, William won MIGHTY!"
            },
            {
                id: 138,
                chapter: 3,
                question: "What were Jacobites?",
                options: [
                    "French rebels",
                    "Supporters of James II",
                    "Religious group",
                    "Scottish clan"
                ],
                correctAnswer: 1,
                explanation: "Jacobites were supporters of James II who believed he was the rightful king.",
                mnemonic: "JACOBITES = JAMES loyalists!"
            },
            {
                id: 139,
                chapter: 3,
                question: "When was the Act of Union with Ireland?",
                options: ["1707", "1776", "1801", "1921"],
                correctAnswer: 2,
                explanation: "The Act of Union of 1800 (effective 1801) unified Ireland with Great Britain.",
                mnemonic: "1801 = EIGHTEEN-OH-ONE, Ireland and Britain became ONE!"
            },
            {
                id: 140,
                chapter: 3,
                question: "What three crosses make up the Union Flag?",
                options: [
                    "England, Wales, Scotland",
                    "England, Scotland, Ireland",
                    "England, Scotland, France",
                    "England, Ireland, Wales"
                ],
                correctAnswer: 1,
                explanation: "The Union Flag combines crosses of St George (England), St Andrew (Scotland), and St Patrick (Ireland).",
                mnemonic: "ESI = England, Scotland, Ireland on flag!"
            },
            {
                id: 141,
                chapter: 3,
                question: "Why isn't Wales on the Union Flag?",
                options: [
                    "Wales didn't exist",
                    "Wales was already united with England",
                    "Wales refused",
                    "Wales had no flag"
                ],
                correctAnswer: 1,
                explanation: "Wales was already united with England when the first Union Flag was created in 1606.",
                mnemonic: "Wales ALREADY with England = no flag BARELY needed!"
            },
            {
                id: 142,
                chapter: 3,
                question: "Who was Bonnie Prince Charlie?",
                options: [
                    "Scottish king",
                    "Grandson of James II who tried to take throne",
                    "English prince",
                    "Irish rebel"
                ],
                correctAnswer: 1,
                explanation: "Bonnie Prince Charlie was Charles Edward Stuart, grandson of James II, who led a rebellion in 1745.",
                mnemonic: "BONNIE Prince = HANDSOME rebel!"
            },
            {
                id: 143,
                chapter: 3,
                question: "When was the Battle of Culloden?",
                options: ["1707", "1745", "1746", "1776"],
                correctAnswer: 2,
                explanation: "The Battle of Culloden in 1746 defeated Bonnie Prince Charlie's rebellion.",
                mnemonic: "1746 = CULLODEN ended the Jacobite TRICKS!"
            },
            {
                id: 144,
                chapter: 3,
                question: "What were the Highland Clearances?",
                options: [
                    "Forest clearing",
                    "Eviction of Scottish farmers for sheep farming",
                    "Military operation",
                    "Religious persecution"
                ],
                correctAnswer: 1,
                explanation: "Highland Clearances were when Scottish landlords evicted farmers (crofters) to make space for sheep and cattle.",
                mnemonic: "CLEARANCES = CLEAR the people for sheep!"
            },
            {
                id: 145,
                chapter: 3,
                question: "Who were the Huguenots?",
                options: [
                    "French Catholics",
                    "French Protestants who fled to Britain",
                    "Spanish refugees",
                    "Italian merchants"
                ],
                correctAnswer: 1,
                explanation: "Huguenots were French Protestants persecuted for their religion who came to Britain between 1680-1720.",
                mnemonic: "HUGUENOTS = French Protestants who GOT out!"
            },
            {
                id: 146,
                chapter: 3,
                question: "What was the Enlightenment?",
                options: [
                    "Religious movement",
                    "Development of new ideas in politics, philosophy and science",
                    "War period",
                    "Art movement"
                ],
                correctAnswer: 1,
                explanation: "The Enlightenment in the 18th century saw development of new ideas about politics, philosophy and science.",
                mnemonic: "ENLIGHTENMENT = new ideas brought LIGHT!"
            },
            {
                id: 147,
                chapter: 3,
                question: "Who was Adam Smith?",
                options: [
                    "Politician",
                    "Scottish economist whose ideas are still used",
                    "Military leader",
                    "Playwright"
                ],
                correctAnswer: 1,
                explanation: "Adam Smith was a Scottish Enlightenment thinker who developed economic ideas still referenced today.",
                mnemonic: "Adam SMITH = ECONOMICS whiz!"
            },
            {
                id: 148,
                chapter: 3,
                question: "Who was David Hume?",
                options: [
                    "Politician",
                    "Scottish philosopher",
                    "Engineer",
                    "Military leader"
                ],
                correctAnswer: 1,
                explanation: "David Hume was a Scottish philosopher whose ideas continue to influence philosophers.",
                mnemonic: "HUME = HUMan nature expert!"
            },
            {
                id: 149,
                chapter: 3,
                question: "Who developed the steam engine?",
                options: ["Isambard Brunel", "George Stephenson", "James Watt", "Richard Arkwright"],
                correctAnswer: 2,
                explanation: "James Watt's work on steam power helped progress the Industrial Revolution.",
                mnemonic: "WATT powered the steam engine with his thought!"
            },
            {
                id: 150,
                chapter: 3,
                question: "When did the Industrial Revolution begin?",
                options: ["1600s", "Mid-1700s", "1800s", "1900s"],
                correctAnswer: 1,
                explanation: "The Industrial Revolution began in the mid-1700s and continued into the 1800s.",
                mnemonic: "MID 1700s = Industrial Revolution GOES!"
            },
            {
                id: 151,
                chapter: 3,
                question: "Who were George and Robert Stephenson?",
                options: [
                    "Politicians",
                    "Railway engine pioneers",
                    "Authors",
                    "Scientists"
                ],
                correctAnswer: 1,
                explanation: "George and Robert Stephenson were famous pioneers of railway engines.",
                mnemonic: "STEPHENSON STEAMed ahead with trains!"
            },
            {
                id: 152,
                chapter: 3,
                question: "Who was Isambard Kingdom Brunel?",
                options: [
                    "Politician",
                    "Engineer who built bridges, tunnels, railways and ships",
                    "Scientist",
                    "Author"
                ],
                correctAnswer: 1,
                explanation: "Brunel was an engineer who built tunnels, bridges, railway lines and ships including the Great Western Railway.",
                mnemonic: "BRUNEL BUILt Britain!"
            },
            {
                id: 153,
                chapter: 3,
                question: "When was the Great Exhibition?",
                options: ["1801", "1833", "1851", "1901"],
                correctAnswer: 2,
                explanation: "The Great Exhibition opened in 1851 in Hyde Park's Crystal Palace.",
                mnemonic: "1851 = EIGHTEEN-FIFTY-ONE, Great Exhibition BEGUN!"
            },
            {
                id: 154,
                chapter: 3,
                question: "What was shown at the Great Exhibition?",
                options: [
                    "Only art",
                    "Machines and handmade goods from around world",
                    "Only British goods",
                    "Only foreign goods"
                ],
                correctAnswer: 1,
                explanation: "The Great Exhibition showed exhibits from around the world, though most objects were made in Britain.",
                mnemonic: "GREAT Exhibition = GREAT variety from every nation!"
            },
            {
                id: 155,
                chapter: 3,
                question: "When was the Crimean War?",
                options: ["1776-1783", "1805-1815", "1853-1856", "1914-1918"],
                correctAnswer: 2,
                explanation: "The Crimean War was from 1853 to 1856 when Britain, Turkey and France fought Russia.",
                mnemonic: "1853-1856 = CRIMEAN war between!"
            },
            {
                id: 156,
                chapter: 3,
                question: "What medal was introduced during the Crimean War?",
                options: [
                    "George Cross",
                    "Victoria Cross",
                    "Military Cross",
                    "Distinguished Service Order"
                ],
                correctAnswer: 1,
                explanation: "Queen Victoria introduced the Victoria Cross medal during the Crimean War to honor acts of valor.",
                mnemonic: "VICTORIA Cross for brave acts across the war!"
            },
            {
                id: 157,
                chapter: 3,
                question: "Where did Florence Nightingale work?",
                options: [
                    "London hospitals",
                    "Military hospitals in Turkey during Crimean War",
                    "Edinburgh hospitals",
                    "French hospitals"
                ],
                correctAnswer: 1,
                explanation: "Florence Nightingale worked in military hospitals in Turkey treating soldiers during the Crimean War.",
                mnemonic: "NIGHTINGALE brought LIGHT to hospitals at NIGHT!"
            },
            {
                id: 158,
                chapter: 3,
                question: "When was the Emancipation Act abolishing slavery?",
                options: ["1807", "1833", "1851", "1867"],
                correctAnswer: 1,
                explanation: "The Emancipation Act of 1833 abolished slavery throughout the British Empire.",
                mnemonic: "1833 = Slaves went FREE!"
            },
            {
                id: 159,
                chapter: 3,
                question: "What was the Reform Act of 1832?",
                options: [
                    "Abolished slavery",
                    "Increased voters and gave cities more parliamentary seats",
                    "Created NHS",
                    "United Ireland"
                ],
                correctAnswer: 1,
                explanation: "The Reform Act of 1832 abolished rotten boroughs, gave more seats to cities, and increased male voters.",
                mnemonic: "1832 = Reform gave MORE voters in THIRTY-TWO!"
            },
            {
                id: 160,
                chapter: 3,
                question: "When did women first get the vote?",
                options: ["1867", "1918", "1928", "1945"],
                correctAnswer: 1,
                explanation: "In 1918, women over 30 were given the vote, partly recognizing their WWI contribution.",
                mnemonic: "1918 = War ended, women's vote EXTENDED!"
            },
            {
                id: 161,
                chapter: 3,
                question: "When did women get equal voting rights with men?",
                options: ["1918", "1928", "1945", "1969"],
                correctAnswer: 1,
                explanation: "In 1928, women got the vote at 21, the same age as men.",
                mnemonic: "1928 = TWENTY-EIGHT, equal votes at TWENTY-ONE!"
            },
            {
                id: 162,
                chapter: 3,
                question: "Who was Emmeline Pankhurst?",
                options: [
                    "Nurse",
                    "Leader of suffragette movement",
                    "Queen",
                    "Scientist"
                ],
                correctAnswer: 1,
                explanation: "Emmeline Pankhurst led the women's suffrage movement (suffragettes) who fought for women's voting rights.",
                mnemonic: "PANKHURST fought so women voted FIRST!"
            },
            {
                id: 163,
                chapter: 3,
                question: "What tactics did suffragettes use?",
                options: [
                    "Only peaceful protests",
                    "Civil disobedience including chaining to railings and arson",
                    "Only petitions",
                    "Only voting"
                ],
                correctAnswer: 1,
                explanation: "Suffragettes used civil disobedience including chaining to railings, breaking windows, arson, and hunger strikes.",
                mnemonic: "SUFFRAGETTES were NOT quiet = they made a RIOT!"
            },
            {
                id: 164,
                chapter: 3,
                question: "When was the First World War?",
                options: ["1899-1902", "1914-1918", "1939-1945", "1950-1953"],
                correctAnswer: 1,
                explanation: "World War I was from 1914 to 1918.",
                mnemonic: "WWI = 1914-1918, the GREAT war!"
            },
            {
                id: 165,
                chapter: 3,
                question: "When did WWI end exactly?",
                options: [
                    "10am 10th October 1918",
                    "11am 11th November 1918",
                    "12pm 12th December 1918",
                    "9am 9th September 1918"
                ],
                correctAnswer: 1,
                explanation: "WWI ended at 11am on 11th November 1918 - the 11th hour of the 11th day of the 11th month.",
                mnemonic: "11-11 at 11 = THREE ELEVENS to remember!"
            },
            {
                id: 166,
                chapter: 3,
                question: "How many British casualties on first day of Battle of Somme?",
                options: ["6,000", "20,000", "60,000", "100,000"],
                correctAnswer: 2,
                explanation: "The Battle of the Somme in 1916 saw 60,000 British casualties on the first day alone.",
                mnemonic: "SOMME = SIXTY thousand fell in ONE day!"
            },
            {
                id: 167,
                chapter: 3,
                question: "When was the Easter Rising in Ireland?",
                options: ["1913", "1916", "1918", "1921"],
                correctAnswer: 1,
                explanation: "The Easter Rising against British rule took place in Dublin in 1916.",
                mnemonic: "1916 = Easter RISING, Irish were UPRISING!"
            },
            {
                id: 168,
                chapter: 3,
                question: "When was Ireland partitioned?",
                options: ["1916", "1918", "1921", "1945"],
                correctAnswer: 2,
                explanation: "A peace treaty in 1921 split Ireland into two parts.",
                mnemonic: "1921 = Ireland SPLIT in TWENTY-ONE!"
            },
            {
                id: 169,
                chapter: 3,
                question: "When was the Great Depression?",
                options: ["1919", "1929", "1939", "1945"],
                correctAnswer: 1,
                explanation: "The Great Depression began in 1929, causing high unemployment especially in heavy industries.",
                mnemonic: "1929 = Depression came in TWENTY-NINE!"
            },
            {
                id: 170,
                chapter: 3,
                question: "When did WWII start?",
                options: ["1938", "1939", "1940", "1941"],
                correctAnswer: 1,
                explanation: "WWII began in 1939 when Germany invaded Poland.",
                mnemonic: "1939 = War began in THIRTY-NINE!"
            },
            {
                id: 171,
                chapter: 3,
                question: "When was the evacuation of Dunkirk?",
                options: ["1939", "1940", "1941", "1944"],
                correctAnswer: 1,
                explanation: "The evacuation of Dunkirk happened in 1940 when 300,000 men were rescued by small boats.",
                mnemonic: "1940 = FORTY small boats saved MORE!"
            },
            {
                id: 172,
                chapter: 3,
                question: "What was the Battle of Britain?",
                options: [
                    "Land invasion",
                    "Aerial battle between German and British forces",
                    "Naval battle",
                    "Tank battle"
                ],
                correctAnswer: 1,
                explanation: "The Battle of Britain in 1940 was an aerial battle between German and British air forces.",
                mnemonic: "Battle of Britain = AIR fight for Britain!"
            },
            {
                id: 173,
                chapter: 3,
                question: "Who was Winston Churchill?",
                options: [
                    "King during WWII",
                    "Prime Minister during WWII",
                    "General",
                    "US President"
                ],
                correctAnswer: 1,
                explanation: "Winston Churchill was Prime Minister during World War II and led Britain to victory.",
                mnemonic: "CHURCHILL = British WARRIOR who never said NEVER!"
            },
            {
                id: 174,
                chapter: 3,
                question: "When did WWII end?",
                options: ["1943", "1944", "1945", "1946"],
                correctAnswer: 2,
                explanation: "World War II ended in 1945.",
                mnemonic: "1945 = War ended, peace ARRIVED at FORTY-FIVE!"
            },
            {
                id: 175,
                chapter: 3,
                question: "Who wrote the Beveridge Report?",
                options: [
                    "Winston Churchill",
                    "William Beveridge",
                    "Clement Attlee",
                    "Aneurin Bevan"
                ],
                correctAnswer: 1,
                explanation: "William Beveridge wrote the 1942 report that led to the foundation of the modern welfare state.",
                mnemonic: "BEVERIDGE = welfare BRIDGE to better life!"
            },
            {
                id: 176,
                chapter: 3,
                question: "Who was Prime Minister after Churchill in 1945?",
                options: [
                    "Harold Macmillan",
                    "Clement Attlee",
                    "Anthony Eden",
                    "Harold Wilson"
                ],
                correctAnswer: 1,
                explanation: "Clement Attlee became Prime Minister in 1945 and established the NHS and welfare state.",
                mnemonic: "ATTLEE came AFTER Churchill!"
            },
            {
                id: 177,
                chapter: 3,
                question: "Who established the NHS?",
                options: [
                    "Winston Churchill",
                    "Aneurin Bevan",
                    "William Beveridge",
                    "Margaret Thatcher"
                ],
                correctAnswer: 1,
                explanation: "Aneurin (Nye) Bevan, Minister for Health, led the establishment of the NHS in 1948.",
                mnemonic: "BEVAN gave us HEAVEN = free healthcare for everyone!"
            },
            {
                id: 178,
                chapter: 3,
                question: "When did India gain independence?",
                options: ["1945", "1947", "1950", "1960"],
                correctAnswer: 1,
                explanation: "India, Pakistan and Ceylon gained independence in 1947.",
                mnemonic: "1947 = India FREE in FORTY-SEVEN!"
            },
            {
                id: 179,
                chapter: 3,
                question: "When did UK join the EEC?",
                options: ["1945", "1960", "1973", "1999"],
                correctAnswer: 2,
                explanation: "The UK joined the European Economic Community (EEC) in 1973.",
                mnemonic: "1973 = UK joined EC at SEVENTY-THREE!"
            },
            {
                id: 180,
                chapter: 3,
                question: "When was the Good Friday Agreement?",
                options: ["1969", "1973", "1998", "1999"],
                correctAnswer: 2,
                explanation: "The Good Friday Agreement in 1998 led to the establishment of the Northern Irish Parliament.",
                mnemonic: "1998 = Good Friday brought PEACE in NINETY-EIGHT!"
            },
            {
                id: 181,
                chapter: 3,
                question: "When were Scottish Parliament and Welsh Assembly established?",
                options: ["1973", "1998", "1999", "2000"],
                correctAnswer: 2,
                explanation: "The Scottish Parliament and Welsh Assembly were both established in 1999.",
                mnemonic: "1999 = DEVOLUTION came in NINETY-NINE!"
            },
            {
                id: 182,
                chapter: 3,
                question: "Who invented the television?",
                options: [
                    "Alexander Bell",
                    "John Logie Baird",
                    "Alan Turing",
                    "Tim Berners-Lee"
                ],
                correctAnswer: 1,
                explanation: "Scottish inventor John Logie Baird developed the television in the 1920s.",
                mnemonic: "BAIRD showed us PICTURES in the AIR!"
            },
            {
                id: 183,
                chapter: 3,
                question: "Who invented radar?",
                options: [
                    "John Baird",
                    "Robert Watson-Watt",
                    "Frank Whittle",
                    "Alan Turing"
                ],
                correctAnswer: 1,
                explanation: "Sir Robert Watson-Watt developed radar in 1935.",
                mnemonic: "WATSON-WATT watched waves attack!"
            },
            {
                id: 184,
                chapter: 3,
                question: "Who discovered DNA structure?",
                options: [
                    "Charles Darwin",
                    "Francis Crick and others",
                    "Alexander Fleming",
                    "Stephen Hawking"
                ],
                correctAnswer: 1,
                explanation: "The DNA molecule structure was discovered in 1953, with Francis Crick being one of those awarded the Nobel Prize.",
                mnemonic: "CRICK CRACKED the DNA code!"
            },
            {
                id: 185,
                chapter: 3,
                question: "Who developed the jet engine?",
                options: [
                    "Isambard Brunel",
                    "Sir Frank Whittle",
                    "George Stephenson",
                    "Robert Watson-Watt"
                ],
                correctAnswer: 1,
                explanation: "Sir Frank Whittle, a British RAF engineer, developed the jet engine in the 1930s.",
                mnemonic: "WHITTLE made planes go FASTER!"
            },
            {
                id: 186,
                chapter: 3,
                question: "What did Alan Turing invent?",
                options: [
                    "Television",
                    "Theoretical computer (Turing machine)",
                    "Radar",
                    "DNA"
                ],
                correctAnswer: 1,
                explanation: "Alan Turing invented the Turing machine, a theoretical device influential in computer science development.",
                mnemonic: "TURING made computing TURN real!"
            },
            {
                id: 187,
                chapter: 3,
                question: "Who co-discovered insulin?",
                options: [
                    "Alexander Fleming",
                    "John MacLeod",
                    "Francis Crick",
                    "Charles Darwin"
                ],
                correctAnswer: 1,
                explanation: "Scottish physician John MacLeod was the co-discoverer of insulin used to treat diabetes.",
                mnemonic: "MacLEOD helped diabetics LEAD better lives!"
            },
            {
                id: 188,
                chapter: 3,
                question: "Who built the radio telescope at Jodrell Bank?",
                options: [
                    "Alan Turing",
                    "Bernard Lovell",
                    "Stephen Hawking",
                    "Robert Watson-Watt"
                ],
                correctAnswer: 1,
                explanation: "Sir Bernard Lovell built the radio telescope at Jodrell Bank, which was the world's biggest for many years.",
                mnemonic: "LOVELL LOVED looking at stars!"
            },
            {
                id: 189,
                chapter: 3,
                question: "What supersonic airliner did Britain develop?",
                options: ["Boeing 747", "Concorde", "Airbus", "Comet"],
                correctAnswer: 1,
                explanation: "Britain and France developed Concorde, the world's only supersonic commercial airliner.",
                mnemonic: "CONCORDE conquered SPEED across the border!"
            },
            {
                id: 190,
                chapter: 3,
                question: "Who was the first woman Prime Minister?",
                options: [
                    "Queen Elizabeth II",
                    "Margaret Thatcher",
                    "Theresa May",
                    "Emmeline Pankhurst"
                ],
                correctAnswer: 1,
                explanation: "Margaret Thatcher was the UK's first female PM and longest-serving PM of the 20th century.",
                mnemonic: "THATCHER was the IRON Lady PM!"
            },
            {
                id: 191,
                chapter: 3,
                question: "When did the Falklands War occur?",
                options: ["1945", "1973", "1982", "1999"],
                correctAnswer: 2,
                explanation: "The Falklands War was in 1982 when Argentina invaded the Falkland Islands.",
                mnemonic: "1982 = FALKLANDS fight in EIGHTY-TWO!"
            },
            
            // More Chapter 4 questions
            {
                id: 192,
                chapter: 4,
                question: "Who wrote 'Pride and Prejudice'?",
                options: ["Charlotte Bronte", "Jane Austen", "Charles Dickens", "Thomas Hardy"],
                correctAnswer: 1,
                explanation: "Jane Austen wrote 'Pride and Prejudice' and other famous novels in the early 19th century.",
                mnemonic: "Jane AUSTEN = AUTHOR of British classics!"
            },
            {
                id: 193,
                chapter: 4,
                question: "Who wrote 'A Christmas Carol'?",
                options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Thomas Hardy"],
                correctAnswer: 0,
                explanation: "Charles Dickens wrote 'A Christmas Carol' and many other famous Victorian novels.",
                mnemonic: "DICKENS made Christmas THICKEN with tales!"
            },
            {
                id: 194,
                chapter: 4,
                question: "Who wrote the 'Lord of the Rings'?",
                options: ["C.S. Lewis", "J.K. Rowling", "J.R.R. Tolkien", "Roald Dahl"],
                correctAnswer: 2,
                explanation: "J.R.R. Tolkien wrote 'The Hobbit' and 'The Lord of the Rings'.",
                mnemonic: "TOLKIEN created TOLKIEN about hobbits!"
            },
            {
                id: 195,
                chapter: 4,
                question: "Who wrote 'The Jungle Book'?",
                options: ["Charles Dickens", "Rudyard Kipling", "Roald Dahl", "J.K. Rowling"],
                correctAnswer: 1,
                explanation: "Rudyard Kipling wrote 'The Jungle Book' and 'Just So Stories'.",
                mnemonic: "KIPLING wrote about the jungle KING!"
            },
            {
                id: 196,
                chapter: 4,
                question: "What is the Proms?",
                options: [
                    "Theater festival",
                    "Classical music festival",
                    "Art exhibition",
                    "Dance competition"
                ],
                correctAnswer: 1,
                explanation: "The Proms is an eight-week summer season of orchestral classical music held at the Royal Albert Hall.",
                mnemonic: "PROMS = PROminent classical MuSic!"
            },
            {
                id: 197,
                chapter: 4,
                question: "What is the Mercury Prize?",
                options: [
                    "Literature award",
                    "Music award for best album",
                    "Film award",
                    "Science award"
                ],
                correctAnswer: 1,
                explanation: "The Mercury Prize is awarded each September for the best album from the UK or Ireland.",
                mnemonic: "MERCURY = MUSIC award that's WORTHY!"
            },
            {
                id: 198,
                chapter: 4,
                question: "What is the Booker Prize?",
                options: [
                    "Music award",
                    "Fiction writing award",
                    "Film award",
                    "Sports award"
                ],
                correctAnswer: 1,
                explanation: "The Man Booker Prize for Fiction is awarded annually for the best fiction novel written in English.",
                mnemonic: "BOOKER Prize for the best BOOK-er!"
            },
            {
                id: 199,
                chapter: 4,
                question: "Where is the National Eisteddfod held?",
                options: ["England", "Scotland", "Wales", "Northern Ireland"],
                correctAnswer: 2,
                explanation: "The National Eisteddfod is an annual cultural festival in Wales celebrating Welsh language and culture.",
                mnemonic: "EISTEDDFOD = Welsh cultural GOD!"
            },
            {
                id: 200,
                chapter: 4,
                question: "What sport is associated with Wimbledon?",
                options: ["Cricket", "Football", "Tennis", "Rugby"],
                correctAnswer: 2,
                explanation: "Wimbledon hosts the oldest and most prestigious tennis tournament in the world.",
                mnemonic: "WIMBLEDON = tennis CHAMPIONSHIP in London!"
            }        ];

        // Main App Component
        function App() {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [passwordInput, setPasswordInput] = useState('');
            const [passwordError, setPasswordError] = useState('');
            const [theme, setTheme] = useState('light');
            const [currentView, setCurrentView] = useState('menu'); // menu, quiz, dashboard, mock-dashboard
            const [testMode, setTestMode] = useState('quick'); // 'quick' or 'mock'
            const [testQuestions, setTestQuestions] = useState([]); // Store the current test questions
            const [currentSet, setCurrentSet] = useState(0);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [isAnswered, setIsAnswered] = useState(false);
            const [showExplanation, setShowExplanation] = useState(true);
            const [timeRemaining, setTimeRemaining] = useState(null); // Seconds remaining for Mock Test
            const [userData, setUserData] = useState({
                completedSets: [],
                questionStats: {}, // id: { correct: 0, incorrect: 0, lastSeen: timestamp, mastered: false }
                currentProgress: {},
                totalQuestions: questionBank.length,
                mockTests: [] // Array of mock test attempts with results
            });

            // Timer for Mock Test (45 minutes)
            useEffect(() => {
                if (testMode === 'mock' && timeRemaining !== null && timeRemaining > 0 && currentView === 'quiz') {
                    const timer = setInterval(() => {
                        setTimeRemaining(prev => {
                            if (prev <= 1) {
                                // Time's up - auto submit
                                handleNextQuestion();
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                    
                    return () => clearInterval(timer);
                }
            }, [testMode, timeRemaining, currentView]);

            // Load theme and authentication from storage
            useEffect(() => {
                const loadInitialData = async () => {
                    try {
                        const themeStored = await window.storage.get('lifeUkTheme');
                        const themeToApply = themeStored?.value || 'light';
                        setTheme(themeToApply);
                        document.documentElement.setAttribute('data-theme', themeToApply);
                        
                        const authStored = await window.storage.get('lifeUkAuth');
                        if (authStored && authStored.value === 'true') {
                            setIsAuthenticated(true);
                        }
                    } catch (error) {
                        console.log('No previous auth/theme found');
                        // Ensure light theme is set even if storage fails
                        document.documentElement.setAttribute('data-theme', 'light');
                    }
                };
                loadInitialData();
            }, []);

            // Load user data from storage on mount
            useEffect(() => {
                if (!isAuthenticated) return;
                
                const loadData = async () => {
                    try {
                        const stored = await window.storage.get('lifeUkQuizData');
                        if (stored && stored.value) {
                            setUserData(JSON.parse(stored.value));
                        }
                    } catch (error) {
                        console.log('No previous data found');
                    }
                };
                loadData();
            }, [isAuthenticated]);

            const handleLogin = async () => {
                if (passwordInput === CORRECT_PASSWORD) {
                    setIsAuthenticated(true);
                    setPasswordError('');
                    try {
                        await window.storage.set('lifeUkAuth', 'true');
                    } catch (error) {
                        console.error('Failed to save auth:', error);
                    }
                } else {
                    setPasswordError('Incorrect password. Please try again.');
                }
            };

            const toggleTheme = async () => {
                const newTheme = theme === 'light' ? 'dark' : 'light';
                setTheme(newTheme);
                document.documentElement.setAttribute('data-theme', newTheme);
                try {
                    await window.storage.set('lifeUkTheme', newTheme);
                } catch (error) {
                    console.error('Failed to save theme:', error);
                }
            };

            // Save user data to storage
            const saveUserData = async (newData) => {
                const dataToSave = { ...userData, ...newData };
                setUserData(dataToSave);
                try {
                    await window.storage.set('lifeUkQuizData', JSON.stringify(dataToSave));
                } catch (error) {
                    console.error('Failed to save data:', error);
                }
            };

            // Generate questions for test (called once when test starts)
            const generateTestQuestions = (mode) => {
                if (mode === 'mock') {
                    // Mock Test: EXACTLY 24 questions proportionally distributed
                    // Based on chapter proportions: Ch1(5%), Ch2(2.5%), Ch3(32.5%), Ch4(30%), Ch5(30%)
                    // Rounded for 24 questions: Ch1=1, Ch2=1, Ch3=8, Ch4=7, Ch5=7 (Total=24)
                    
                    const getRandomFromChapter = (chapter, count) => {
                        const chapterQuestions = questionBank.filter(q => q.chapter === chapter);
                        if (chapterQuestions.length < count) {
                            console.warn(`Not enough questions in chapter ${chapter}. Need ${count}, have ${chapterQuestions.length}`);
                            return chapterQuestions;
                        }
                        const shuffled = [...chapterQuestions].sort(() => Math.random() - 0.5);
                        return shuffled.slice(0, count);
                    };
                    
                    const mockQuestions = [
                        ...getRandomFromChapter(1, 1),  // 1 question from Chapter 1
                        ...getRandomFromChapter(2, 1),  // 1 question from Chapter 2  
                        ...getRandomFromChapter(3, 8),  // 8 questions from Chapter 3
                        ...getRandomFromChapter(4, 7),  // 7 questions from Chapter 4
                        ...getRandomFromChapter(5, 7)   // 7 questions from Chapter 5
                    ];
                    
                    // Shuffle the entire mock test so questions appear in random order
                    return mockQuestions.sort(() => Math.random() - 0.5);
                    
                } else {
                    // Quick Test: 10 questions mixed from all chapters
                    const getRandomFromChapter = (chapter, count) => {
                        const chapterQuestions = questionBank.filter(q => q.chapter === chapter);
                        const shuffled = [...chapterQuestions].sort(() => Math.random() - 0.5);
                        return shuffled.slice(0, count);
                    };
                    
                    let baseQuestions = [
                        ...getRandomFromChapter(1, 1),
                        ...getRandomFromChapter(2, 0),
                        ...getRandomFromChapter(3, 3),
                        ...getRandomFromChapter(4, 3),
                        ...getRandomFromChapter(5, 3)
                    ];
                    
                    // Shuffle and take 10 questions
                    const shuffled = baseQuestions.sort(() => Math.random() - 0.5);
                    return shuffled.slice(0, 10);
                }
            };

            const currentQuestion = testQuestions[currentQuestionIndex];
            
            // Generate question variations - forces user to read carefully each time
            const getQuestionVariation = (question) => {
                const variations = {
                    "What is the capital city of Wales?": [
                        "Which city serves as Wales' capital?",
                        "What is the capital of Wales?",
                        "Which city is the Welsh capital?",
                        "Name the capital city of Wales"
                    ],
                    "The Life in the UK test consists of how many questions?": [
                        "How many questions are in the Life in the UK test?",
                        "The Life in the UK test contains how many questions?",
                        "What is the number of questions in the Life in the UK test?",
                        "How many questions does the Life in the UK test have?"
                    ],
                    "What is the minimum age requirement to take the Life in the UK test?": [
                        "What is the minimum age to take the Life in the UK test?",
                        "At what age can you take the Life in the UK test?",
                        "What age must you be to sit the Life in the UK test?",
                        "What's the minimum age for taking the Life in the UK test?"
                    ],
                    "Which countries make up the United Kingdom?": [
                        "What countries form the United Kingdom?",
                        "The United Kingdom consists of which countries?",
                        "Which nations make up the UK?",
                        "What countries comprise the United Kingdom?"
                    ],
                    "What is the currency used in the UK?": [
                        "Which currency is used in the United Kingdom?",
                        "What is the UK's currency?",
                        "What money is used in Britain?",
                        "What currency does the UK use?"
                    ],
                    "In what year did the Romans first successfully invade Britain?": [
                        "When did the Romans successfully conquer Britain?",
                        "In which year did Roman forces invade Britain successfully?",
                        "What year saw the successful Roman invasion of Britain?",
                        "When was Britain successfully invaded by the Romans?"
                    ],
                    "Who was Boudicca?": [
                        "What was Boudicca known for?",
                        "Who was Queen Boudicca?",
                        "What role did Boudicca play in British history?",
                        "Boudicca was known as what?"
                    ],
                    "What year is associated with the Battle of Hastings?": [
                        "When was the Battle of Hastings fought?",
                        "In which year did the Battle of Hastings occur?",
                        "What year did the Battle of Hastings take place?",
                        "The Battle of Hastings happened in which year?"
                    ],
                    "Which document, signed in 1215, reduced the king's powers and protected nobles' rights?": [
                        "What document from 1215 limited royal power?",
                        "Which 1215 charter reduced the king's authority?",
                        "What famous document was signed in 1215 limiting the monarchy?",
                        "Name the 1215 document that restricted the king's powers"
                    ],
                    "How many times has the UK hosted the Olympic Games?": [
                        "How many Olympic Games has the UK hosted?",
                        "The UK has hosted the Olympics how many times?",
                        "How many times has Britain hosted the Olympic Games?",
                        "How many times have the Olympics been held in the UK?"
                    ],
                    "Who wrote the Harry Potter series?": [
                        "Who is the author of Harry Potter?",
                        "Who created the Harry Potter books?",
                        "Which author wrote Harry Potter?",
                        "The Harry Potter series was written by whom?"
                    ],
                    "Which famous playwright wrote 'Romeo and Juliet' and 'Hamlet'?": [
                        "Who wrote Romeo and Juliet and Hamlet?",
                        "Which playwright created Romeo and Juliet?",
                        "Who is the author of Hamlet and Romeo and Juliet?",
                        "Name the playwright who wrote Romeo and Juliet"
                    ],
                    "Which artist is considered to have raised the profile of landscape painting?": [
                        "Who raised the profile of landscape painting?",
                        "Which artist is famous for elevating landscape painting?",
                        "Who is credited with making landscape painting more prestigious?",
                        "Name the artist who elevated landscape painting"
                    ],
                    "The Beatles and The Rolling Stones are associated with which music movement?": [
                        "Which music movement featured The Beatles and Rolling Stones?",
                        "What musical era are The Beatles and Rolling Stones from?",
                        "The Beatles and Rolling Stones belong to which music period?",
                        "Which music movement includes The Beatles?"
                    ],
                    "What is the longest running play in the West End?": [
                        "Which play has run longest in the West End?",
                        "What's the longest-running West End show?",
                        "Name the longest running West End play",
                        "Which West End play has the longest run?"
                    ],
                    "What is the voting age in the UK?": [
                        "At what age can you vote in the UK?",
                        "What's the minimum voting age in Britain?",
                        "How old must you be to vote in the UK?",
                        "What age can people vote in the United Kingdom?"
                    ],
                    "What is the official home of the Prime Minister?": [
                        "Where does the Prime Minister live officially?",
                        "What is the PM's official residence?",
                        "Where is the Prime Minister's official home?",
                        "What's the Prime Minister's official address?"
                    ],
                    "Which of these is NOT a responsibility of MPs?": [
                        "What is NOT an MP's responsibility?",
                        "Which task is NOT performed by MPs?",
                        "What do MPs NOT do?",
                        "Which of these don't MPs do?"
                    ],
                    "How often must a General Election be held?": [
                        "What is the maximum time between General Elections?",
                        "How frequently must General Elections occur?",
                        "General Elections must be held how often?",
                        "What's the maximum period between General Elections?"
                    ],
                    "What electoral system is used for UK General Elections?": [
                        "Which voting system does the UK use for General Elections?",
                        "What electoral method is used in UK General Elections?",
                        "Which system is used to elect UK MPs?",
                        "What voting system elects MPs in the UK?"
                    ]
                };
                
                const varList = variations[question.question] || [question.question];
                return varList[Math.floor(Math.random() * varList.length)];
            };

            // Shuffle options - return array of objects with text and originalIndex
            // TRUE/FALSE questions are not shuffled
            // Answer text can vary slightly to force careful reading
            const getShuffledOptions = (question) => {
                // Check if it's a TRUE/FALSE question
                const isTrueFalse = question.options.length === 2 && 
                    (question.options.includes("True") || question.options.includes("False") ||
                     question.options.includes("TRUE") || question.options.includes("FALSE"));
                
                // Answer text variations - slight changes to wording
                const answerVariations = {
                    "16 years old": ["16 years old", "Age 16", "Sixteen years"],
                    "17 years old": ["17 years old", "Age 17", "Seventeen years"],
                    "18 years old": ["18 years old", "Age 18", "Eighteen years"],
                    "21 years old": ["21 years old", "Age 21", "Twenty-one years"],
                    "20 questions": ["20 questions", "Twenty questions"],
                    "24 questions": ["24 questions", "Twenty-four questions"],
                    "25 questions": ["25 questions", "Twenty-five questions"],
                    "30 questions": ["30 questions", "Thirty questions"],
                    "England, Scotland, Wales, and Ireland": ["England, Scotland, Wales, and Ireland", "England, Scotland, Wales and Ireland"],
                    "England, Scotland, Wales, and Northern Ireland": ["England, Scotland, Wales, and Northern Ireland", "England, Scotland, Wales and Northern Ireland", "England, Scotland, Wales, Northern Ireland"],
                    "England, Scotland, and Wales only": ["England, Scotland, and Wales only", "England, Scotland and Wales only", "Only England, Scotland and Wales"],
                    "Great Britain and Ireland": ["Great Britain and Ireland", "Great Britain and the island of Ireland"],
                    "Edinburgh": ["Edinburgh", "Edinburgh, Scotland"],
                    "Belfast": ["Belfast", "Belfast, Northern Ireland"],
                    "Cardiff": ["Cardiff", "Cardiff, Wales"],
                    "Dublin": ["Dublin", "Dublin, Ireland"],
                    "Euro": ["Euro", "The Euro", "EUR (€)"],
                    "Pound Sterling": ["Pound Sterling", "The Pound Sterling", "Pound (£)"],
                    "British Dollar": ["British Dollar", "The British Dollar"],
                    "55 BC": ["55 BC", "Year 55 BC"],
                    "AD 43": ["AD 43", "Year AD 43", "43 AD"],
                    "AD 410": ["AD 410", "Year AD 410", "410 AD"],
                    "1066": ["1066", "Year 1066"],
                    "1215": ["1215", "Year 1215"],
                    "1314": ["1314", "Year 1314"],
                    "1415": ["1415", "Year 1415"],
                    "Once": ["Once", "One time"],
                    "Twice": ["Twice", "Two times"],
                    "Three times": ["Three times", "3 times"],
                    "Four times": ["Four times", "4 times"],
                    "First past the post": ["First past the post", "First-past-the-post"],
                    "Proportional representation": ["Proportional representation", "Proportional Representation (PR)"],
                    "At least every 5 years": ["At least every 5 years", "Every 5 years at minimum", "Maximum every 5 years"]
                };
                
                const optionsWithIndex = question.options.map((opt, idx) => {
                    let text = opt;
                    // Apply variation if available and not TRUE/FALSE
                    if (!isTrueFalse && answerVariations[opt]) {
                        const variations = answerVariations[opt];
                        text = variations[Math.floor(Math.random() * variations.length)];
                    }
                    return { text, originalIndex: idx };
                });
                
                // Don't shuffle TRUE/FALSE
                if (isTrueFalse) {
                    return optionsWithIndex;
                }
                
                // Shuffle other questions - force users to read positions carefully
                return [...optionsWithIndex].sort(() => Math.random() - 0.5);
            };
            
            // Memoize question variation and shuffled options - only regenerate when question ID changes
            const questionVariation = useMemo(() => {
                if (!currentQuestion) return '';
                return getQuestionVariation(currentQuestion);
            }, [currentQuestion?.id]);

            const shuffledOptions = useMemo(() => {
                if (!currentQuestion) return [];
                return getShuffledOptions(currentQuestion);
            }, [currentQuestion?.id]);

            const handleAnswerSelect = (answerIndex, originalIndex) => {
                if (isAnswered) return;
                
                setSelectedAnswer({ displayIndex: answerIndex, originalIndex: originalIndex });
                setIsAnswered(true);
                
                const isCorrect = originalIndex === currentQuestion.correctAnswer;
                const stats = userData.questionStats[currentQuestion.id] || { correct: 0, incorrect: 0, lastSeen: Date.now(), mastered: false };
                
                if (isCorrect) {
                    stats.correct += 1;
                    // Mastered after 20 correct answers
                    if (stats.correct >= 20) {
                        stats.mastered = true;
                    }
                } else {
                    stats.incorrect += 1;
                }
                stats.lastSeen = Date.now();
                
                saveUserData({
                    questionStats: {
                        ...userData.questionStats,
                        [currentQuestion.id]: stats
                    }
                });
            };

            const handleNextQuestion = () => {
                if (currentQuestionIndex < testQuestions.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                    resetQuestionState();
                } else {
                    // Test completed
                    const correctCount = testQuestions.filter(q => {
                        const stats = userData.questionStats[q.id];
                        return stats && stats.correct > 0;
                    }).length;
                    
                    const totalQuestions = testQuestions.length;
                    const percentage = (correctCount / totalQuestions) * 100;
                    
                    if (testMode === 'mock') {
                        // Save mock test result
                        const mockResult = {
                            date: new Date().toISOString(),
                            score: correctCount,
                            total: totalQuestions,
                            percentage: percentage.toFixed(1),
                            passed: percentage >= 75,
                            questions: testQuestions.map(q => ({
                                id: q.id,
                                correct: (userData.questionStats[q.id]?.correct || 0) > (userData.questionStats[q.id]?.incorrect || 0)
                            }))
                        };
                        
                        const mockTests = [...(userData.mockTests || []), mockResult];
                        saveUserData({ mockTests });
                        setCurrentView('mock-dashboard');
                    } else {
                        // Quick test completed
                        if (percentage >= 90) {
                            // Can continue to next quick test
                            setCurrentSet(currentSet + 1);
                        }
                        setCurrentView('dashboard');
                    }
                }
            };

            const resetQuestionState = () => {
                setSelectedAnswer(null);
                setIsAnswered(false);
                setShowExplanation(true); // Show explanation by default
            };

            const startTest = (mode) => {
                setTestMode(mode);
                const questions = generateTestQuestions(mode);
                setTestQuestions(questions);
                setCurrentQuestionIndex(0);
                setCurrentSet(currentSet + 1); // Just increment for tracking
                
                // Set timer for Mock Test (45 minutes = 2700 seconds)
                if (mode === 'mock') {
                    setTimeRemaining(2700);
                } else {
                    setTimeRemaining(null);
                }
                
                resetQuestionState();
                setCurrentView('quiz');
            };

            const startSet = (setNumber) => {
                setCurrentSet(setNumber);
                setCurrentQuestionIndex(0);
                resetQuestionState();
                setCurrentView('quiz');
            };

            const resetAllProgress = async () => {
                if (window.confirm('Are you sure you want to reset all progress? This cannot be undone!')) {
                    const emptyData = {
                        completedSets: [],
                        questionStats: {},
                        currentProgress: {},
                        totalQuestions: questionBank.length
                    };
                    setUserData(emptyData);
                    try {
                        await window.storage.set('lifeUkQuizData', JSON.stringify(emptyData));
                    } catch (error) {
                        console.error('Failed to reset data:', error);
                    }
                    setCurrentView('menu');
                }
            };

            // Login Screen
            if (!isAuthenticated) {
                return (
                    <>
                        <button className="theme-toggle" onClick={toggleTheme}>
                            {theme === 'light' ? '🌙' : '☀️'}
                        </button>
                        <div className="login-container">
                            <div className="login-card">
                                <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                                    <h1 style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>Life in the UK</h1>
                                    <p style={{ color: 'var(--text-secondary)' }}>Practice Test 2026</p>
                                </div>
                                <input
                                    type="password"
                                    className="login-input"
                                    placeholder="Enter password"
                                    value={passwordInput}
                                    onChange={(e) => setPasswordInput(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                />
                                {passwordError && <div className="error-message">{passwordError}</div>}
                                <button className="btn" style={{ width: '100%', marginTop: '1rem' }} onClick={handleLogin}>
                                    Login
                                </button>
                            </div>
                        </div>
                    </>
                );
            }

            // Render Menu
            if (currentView === 'menu') {
                return (
                    <>
                        <button className="theme-toggle" onClick={toggleTheme}>
                            {theme === 'light' ? '🌙' : '☀️'}
                        </button>
                        <div className="container">
                            <div className="header">
                                <h1>Life in the UK</h1>
                                <p className="subtitle">Official Practice Test 2026</p>
                            </div>
                        
                        <div className="card">
                            <h2 style={{ marginBottom: '1rem', color: 'var(--text)', fontSize: '1.5rem' }}>Choose Your Test Mode</h2>
                            <p style={{ marginBottom: '2rem', color: 'var(--text-secondary)', fontSize: '0.95rem' }}>
                                Practice with quick tests or simulate the real exam experience
                            </p>
                            
                            <div style={{ display: 'grid', gap: '1.5rem', marginBottom: '2rem' }}>
                                <div className="test-mode-card" style={{
                                    background: 'var(--option-bg)',
                                    border: '2px solid var(--border)',
                                    borderRadius: '12px',
                                    padding: '2rem',
                                    cursor: 'pointer',
                                    transition: 'all 0.2s ease'
                                }}
                                onMouseOver={(e) => e.currentTarget.style.borderColor = 'var(--primary)'}
                                onMouseOut={(e) => e.currentTarget.style.borderColor = 'var(--border)'}
                                onClick={() => startTest('quick')}>
                                    <h3 style={{ color: 'var(--primary)', marginBottom: '0.75rem', fontSize: '1.25rem' }}>
                                        ⚡ Quick Test
                                    </h3>
                                    <p style={{ color: 'var(--text)', marginBottom: '0.5rem', lineHeight: '1.6' }}>
                                        Practice with 10 random questions from all topics
                                    </p>
                                    <ul style={{ color: 'var(--text-secondary)', fontSize: '0.9rem', marginLeft: '1.25rem', marginTop: '0.75rem' }}>
                                        <li>Mixed questions from all chapters</li>
                                        <li>Score 90% to continue</li>
                                        <li>Adaptive learning - wrong answers repeat</li>
                                        <li>Master questions by getting them right 10 times</li>
                                    </ul>
                                </div>
                                
                                <div className="test-mode-card" style={{
                                    background: 'var(--option-bg)',
                                    border: '2px solid var(--border)',
                                    borderRadius: '12px',
                                    padding: '2rem',
                                    cursor: 'pointer',
                                    transition: 'all 0.2s ease'
                                }}
                                onMouseOver={(e) => e.currentTarget.style.borderColor = 'var(--success)'}
                                onMouseOut={(e) => e.currentTarget.style.borderColor = 'var(--border)'}
                                onClick={() => startTest('mock')}>
                                    <h3 style={{ color: 'var(--success)', marginBottom: '0.75rem', fontSize: '1.25rem' }}>
                                        📋 Mock Test
                                    </h3>
                                    <p style={{ color: 'var(--text)', marginBottom: '0.5rem', lineHeight: '1.6' }}>
                                        Simulate the real Life in the UK test experience
                                    </p>
                                    <ul style={{ color: 'var(--text-secondary)', fontSize: '0.9rem', marginLeft: '1.25rem', marginTop: '0.75rem' }}>
                                        <li>24 questions (just like the real test)</li>
                                        <li>Proportionally distributed by topic</li>
                                        <li>New random selection each time</li>
                                        <li>Pass mark: 75% (18/24 correct)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div className="btn-group" style={{ justifyContent: 'center' }}>
                            <button className="btn btn-secondary" onClick={() => setCurrentView('dashboard')}>
                                📊 View Progress
                            </button>
                            <button className="btn btn-secondary" onClick={() => setCurrentView('mock-dashboard')}>
                                📈 Mock Test Results
                            </button>
                            <button className="btn btn-secondary" onClick={resetAllProgress}>
                                🔄 Reset All Data
                            </button>
                        </div>
                    </div>
                    </>
                );
            }

            // Render Quiz
            if (currentView === 'quiz' && currentQuestion) {
                const progress = ((currentQuestionIndex + 1) / testQuestions.length) * 100;
                const stats = userData.questionStats[currentQuestion.id] || { correct: 0, incorrect: 0 };
                
                // Mnemonic display logic based on original requirements:
                // 1. Show when answered CORRECTLY until answered correctly 10 times
                // 2. ALWAYS show when answered INCORRECTLY
                // 3. If incorrect more than 5 times, use alternative mnemonic
                const isCorrectAnswer = selectedAnswer?.originalIndex === currentQuestion.correctAnswer;
                const isIncorrectAnswer = isAnswered && !isCorrectAnswer;
                
                const shouldShowMnemonic = isAnswered && (
                    (isCorrectAnswer && stats.correct < 10) || // Show if correct and not yet mastered (10 times)
                    isIncorrectAnswer // Always show if incorrect
                );
                
                return (
                    <>
                        <button className="theme-toggle" onClick={toggleTheme}>
                            {theme === 'light' ? '🌙' : '☀️'}
                        </button>
                        <div className="container">
                            <div className="header">
                                <h1>{testMode === 'mock' ? '📋 Mock Test' : '⚡ Quick Test'}</h1>
                                <p className="subtitle">
                                    Question {currentQuestionIndex + 1} of {testQuestions.length}
                                    {testMode === 'mock' && timeRemaining !== null && (
                                        <span style={{ marginLeft: '1rem', color: timeRemaining < 300 ? 'var(--warning)' : 'var(--text-secondary)' }}>
                                            ⏱️ {Math.floor(timeRemaining / 60)}:{String(timeRemaining % 60).padStart(2, '0')}
                                        </span>
                                    )}
                                </p>
                            </div>
                            
                            <div className="card">
                                <div className="progress-bar">
                                    <div className="progress-fill" style={{ width: `${progress}%` }}></div>
                                </div>
                                
                                <div className="question-text">{questionVariation}</div>
                                
                                <div className="options">
                                    {shuffledOptions.map((option, displayIndex) => {
                                        const isCorrectOption = option.originalIndex === currentQuestion.correctAnswer;
                                        const isThisOptionSelected = isAnswered && selectedAnswer?.originalIndex === option.originalIndex;
                                        const showAsCorrect = isAnswered && isCorrectOption;
                                        const showAsIncorrect = isAnswered && isThisOptionSelected && !isCorrectOption;
                                        
                                        return (
                                            <button
                                                key={displayIndex}
                                                className={`option-btn ${showAsCorrect ? 'correct' : ''} ${showAsIncorrect ? 'incorrect' : ''}`}
                                                onClick={() => handleAnswerSelect(displayIndex, option.originalIndex)}
                                                disabled={isAnswered}
                                            >
                                                {option.text}
                                            </button>
                                        );
                                    })}
                                </div>
                                
                                {isAnswered && (
                                    <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '1.5rem', gap: '1rem', flexWrap: 'wrap' }}>
                                        <button 
                                            className="btn btn-secondary" 
                                            onClick={() => {
                                                if (currentQuestionIndex > 0) {
                                                    setCurrentQuestionIndex(currentQuestionIndex - 1);
                                                    setSelectedAnswer(null);
                                                    setIsAnswered(false);
                                                }
                                            }}
                                            disabled={currentQuestionIndex === 0}
                                            style={{ opacity: currentQuestionIndex === 0 ? 0.5 : 1 }}
                                        >
                                            ← Previous
                                        </button>
                                        <button className="btn" onClick={handleNextQuestion}>
                                            {currentQuestionIndex < testQuestions.length - 1 ? 'Next →' : 'Finish Test'}
                                        </button>
                                    </div>
                                )}
                                
                                {isAnswered && showExplanation && (
                                    <div className="explanation-box">
                                        <h4>📚 Explanation</h4>
                                        <p>{currentQuestion.explanation}</p>
                                    </div>
                                )}
                                
                                {shouldShowMnemonic && (
                                    <div className="mnemonic-box">
                                        <h4>🧠 Memory Trick</h4>
                                        <p>{stats.incorrect >= 5 ? `[Alternative] ${currentQuestion.mnemonic}` : currentQuestion.mnemonic}</p>
                                        {isCorrectAnswer && stats.correct < 10 && (
                                            <p style={{ fontSize: '0.85rem', marginTop: '0.5rem', opacity: 0.8 }}>
                                                ✓ Correct! Keep seeing this until you get it right 10 times ({stats.correct}/10)
                                            </p>
                                        )}
                                        {isIncorrectAnswer && (
                                            <p style={{ fontSize: '0.85rem', marginTop: '0.5rem', opacity: 0.8 }}>
                                                ✗ Review this mnemonic - you've got this! (Wrong: {stats.incorrect} times)
                                            </p>
                                        )}
                                    </div>
                                )}
                            </div>
                            
                            <div className="btn-group" style={{ justifyContent: 'center' }}>
                                <button className="btn btn-secondary" onClick={() => {
                                    if (window.confirm('Are you sure you want to exit? Progress will be saved.')) {
                                        setCurrentView('menu');
                                    }
                                }}>
                                    Exit to Menu
                                </button>
                            </div>
                        </div>
                    </>
                );
            }

            // Render Mock Test Dashboard
            if (currentView === 'mock-dashboard') {
                const mockTests = userData.mockTests || [];
                const totalAttempts = mockTests.length;
                const passedTests = mockTests.filter(test => test.passed).length;
                const passRate = totalAttempts > 0 ? ((passedTests / totalAttempts) * 100).toFixed(1) : 0;
                const bestScore = totalAttempts > 0 ? Math.max(...mockTests.map(test => test.score)) : 0;
                const averageScore = totalAttempts > 0 ? (mockTests.reduce((sum, test) => sum + test.score, 0) / totalAttempts).toFixed(1) : 0;
                
                // Questions to master calculation
                const questionsToMaster = Object.values(userData.questionStats).filter(stat => 
                    !stat.mastered && stat.correct > 0
                ).length;
                
                return (
                    <>
                        <button className="theme-toggle" onClick={toggleTheme}>
                            {theme === 'light' ? '🌙' : '☀️'}
                        </button>
                        <div className="container">
                            <div className="header">
                                <h1>Mock Test Results</h1>
                                <p className="subtitle">Track your exam simulation performance</p>
                            </div>
                            
                            <div className="card">
                                <h2 style={{ marginBottom: '2rem', color: 'var(--text)', fontSize: '1.5rem' }}>📈 Overall Statistics</h2>
                                
                                <div className="stats-grid">
                                    <div className="stat-card">
                                        <div className="stat-value">{totalAttempts}</div>
                                        <div className="stat-label">Total Attempts</div>
                                    </div>
                                    
                                    <div className="stat-card">
                                        <div className="stat-value">{passRate}%</div>
                                        <div className="stat-label">Pass Rate</div>
                                    </div>
                                    
                                    <div className="stat-card">
                                        <div className="stat-value">{bestScore}/24</div>
                                        <div className="stat-label">Best Score</div>
                                    </div>
                                    
                                    <div className="stat-card">
                                        <div className="stat-value">{averageScore}</div>
                                        <div className="stat-label">Average Score</div>
                                    </div>
                                    
                                    <div className="stat-card">
                                        <div className="stat-value">{passedTests}</div>
                                        <div className="stat-label">Tests Passed</div>
                                    </div>
                                    
                                    <div className="stat-card">
                                        <div className="stat-value">{questionsToMaster}</div>
                                        <div className="stat-label">Questions to Master</div>
                                    </div>
                                </div>
                            </div>
                            
                            {mockTests.length > 0 && (
                                <div className="card">
                                    <h2 style={{ marginBottom: '1.5rem', color: 'var(--text)', fontSize: '1.25rem' }}>📋 Recent Attempts</h2>
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                                        {mockTests.slice().reverse().slice(0, 10).map((test, index) => (
                                            <div key={index} style={{
                                                background: 'var(--option-bg)',
                                                padding: '1.25rem',
                                                borderRadius: '8px',
                                                border: `2px solid ${test.passed ? 'var(--success)' : 'var(--warning)'}`,
                                                display: 'flex',
                                                justifyContent: 'space-between',
                                                alignItems: 'center',
                                                flexWrap: 'wrap',
                                                gap: '1rem'
                                            }}>
                                                <div>
                                                    <div style={{ fontWeight: '600', color: 'var(--text)', marginBottom: '0.25rem' }}>
                                                        {test.passed ? '✅ PASSED' : '❌ FAILED'}
                                                    </div>
                                                    <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>
                                                        {new Date(test.date).toLocaleString()}
                                                    </div>
                                                </div>
                                                <div style={{ textAlign: 'right' }}>
                                                    <div style={{ fontSize: '1.5rem', fontWeight: '700', color: test.passed ? 'var(--success)' : 'var(--warning)' }}>
                                                        {test.score}/24
                                                    </div>
                                                    <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>
                                                        {test.percentage}%
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                            
                            <div className="btn-group" style={{ justifyContent: 'center' }}>
                                <button className="btn" onClick={() => startTest('mock')}>
                                    🔄 Take Another Mock Test
                                </button>
                                <button className="btn btn-secondary" onClick={() => setCurrentView('menu')}>
                                    ← Back to Menu
                                </button>
                            </div>
                        </div>
                    </>
                );
            }

            // Render Dashboard
            if (currentView === 'dashboard') {
                const totalQuestions = questionBank.length;
                const attemptedQuestions = Object.keys(userData.questionStats).length;
                const correctAnswers = Object.values(userData.questionStats).reduce((sum, stat) => sum + stat.correct, 0);
                const incorrectAnswers = Object.values(userData.questionStats).reduce((sum, stat) => sum + stat.incorrect, 0);
                const totalAnswers = correctAnswers + incorrectAnswers;
                const accuracy = totalAnswers > 0 ? ((correctAnswers / totalAnswers) * 100).toFixed(1) : 0;
                const masteredCount = Object.values(userData.questionStats).filter(stat => stat.mastered).length;
                
                return (
                    <>
                        <button className="theme-toggle" onClick={toggleTheme}>
                            {theme === 'light' ? '🌙' : '☀️'}
                        </button>
                        <div className="container">
                            <div className="header">
                                <h1>Your Progress</h1>
                                <p className="subtitle">Life in the UK Test Dashboard</p>
                            </div>
                        
                        <div className="card">
                            <h2 style={{ marginBottom: '2rem', color: 'var(--accent)' }}>Performance Statistics</h2>
                            
                            <div className="stats-grid">
                                <div className="stat-card">
                                    <div className="stat-value">{accuracy}%</div>
                                    <div className="stat-label">Overall Accuracy</div>
                                </div>
                                
                                <div className="stat-card">
                                    <div className="stat-value">{userData.completedSets.length}</div>
                                    <div className="stat-label">Sets Completed</div>
                                </div>
                                
                                <div className="stat-card">
                                    <div className="stat-value">{attemptedQuestions}</div>
                                    <div className="stat-label">Questions Attempted</div>
                                </div>
                                
                                <div className="stat-card">
                                    <div className="stat-value">{masteredCount}</div>
                                    <div className="stat-label">Questions Mastered</div>
                                </div>
                                
                                <div className="stat-card">
                                    <div className="stat-value">{correctAnswers}</div>
                                    <div className="stat-label">Correct Answers</div>
                                </div>
                                
                                <div className="stat-card">
                                    <div className="stat-value">{incorrectAnswers}</div>
                                    <div className="stat-label">Incorrect Answers</div>
                                </div>
                            </div>
                        </div>
                        
                        <div className="btn-group" style={{ justifyContent: 'center' }}>
                            <button className="btn" onClick={() => setCurrentView('menu')}>
                                Back to Menu
                            </button>
                            <button className="btn btn-secondary" onClick={resetAllProgress}>
                                Reset All Data
                            </button>
                        </div>
                    </div>
                    </>
                );
            }

            return null;
        }

        // Render App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
